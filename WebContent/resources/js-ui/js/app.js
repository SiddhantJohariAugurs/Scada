(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function o(e){return s.p+"js/"+({canvg:"canvg","cmp-component":"cmp-component","example-chart-cmp":"example-chart-cmp","isalive-component":"isalive-component","live-alarms-component":"live-alarms-component",pdfmake:"pdfmake",ph:"ph","simple-component-svg":"simple-component-svg","sleep-and-reactivation-ds-component":"sleep-and-reactivation-ds-component","step-line-chart-component":"step-line-chart-component","test-component":"test-component",xlsx:"xlsx"}[e]||e)+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,n[1](c)}r[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/resources/js-ui/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07e3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.label))]),n("div",{ref:"chartdiv",staticClass:"hello",style:{height:this.height+"px",width:this.width+"px"}}),e.errorMessage?n("div",[n("p",{staticClass:"error"},[e._v(e._s(e.errorMessage))])]):e._e(),e.showReload?n("div",[n("button",{on:{click:function(t){return e.reload()}}},[e._v("Reload")])]):e._e(),e.showDebug?n("div",[n("button",{on:{click:function(t){return e.debug()}}},[e._v("Debug")])]):e._e()])},r=[],i=n("71c9"),o=(n("c497"),n("5a54")),s=(n("bc3a"),n("2bf5"));function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){return h(e)||u(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){r=!0,i=l}finally{try{a||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function h(e){if(Array.isArray(e))return e}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function _(e,t,n){return _="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=w(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}},_(e,t,n||e)}function w(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=A(e),null===e)break;return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function C(e){var t=E();return function(){var n,a=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}i["f"](o["a"]);var I=function(e){y(n,e);var t=C(n);function n(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return v(this,n),t.call(this,e,"XYChart",a,r)}return b(n,[{key:"displayControls",value:function(e,t,n){void 0!==e&&"true"==e?this.showScrollbarX=!0:void 0!==e&&"false"==e&&(this.showScrollbarX=!1),void 0!==t&&"true"==t?this.showScrollbarY=!0:void 0!==t&&"false"==t&&(this.showScrollbarY=!1),void 0!==n&&"true"==n?this.showLegend=!0:void 0!==n&&"false"==n&&(this.showLegend=!1)}},{key:"loadData",value:function(e,t,a,r){var i=this;return new Promise((function(o,s){_(A(n.prototype),"loadData",i).call(i,e,t,a,r).then((function(t){if(void 0==i.pointCurrentValue.get(e)&&i.pointCurrentValue.set(e,{name:t.name,suffix:t.textRenderer.suffix,type:t.type,labels:new Map}),"Multistate"===t.type){var n=t.textRenderer.multistateValues;if("textRendererMultistate"===t.textRenderer.typeName&&void 0!==n){for(var a=new Map,r=0;r<n.length;r++)a.set(String(n[r].key),n[r].text);i.pointCurrentValue.get(e).labels=a}}if("Binary"===t.type&&"textRendererBinary"===t.textRenderer.typeName){var s=new Map;s.set("0",t.textRenderer.zeroLabel),s.set("1",t.textRenderer.oneLabel),i.pointCurrentValue.get(e).labels=s}t.values.forEach((function(e){i.addValue(e,t.name,i.pointPastValues)})),o("done")}))}))}},{key:"setupChart",value:function(){this.chart.data=s["a"].prepareChartData(s["a"].sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(this.showScrollbarX,this.showScrollbarY,this.showLegend),this.createExportMenu(!0,"Scada_StepLineChart");var e,t=p(this.pointCurrentValue);try{for(t.s();!(e=t.n()).done;){var n=c(e.value,2),a=(n[0],n[1]),r=this.createSeries(a.name,a.name,a.suffix);if("Multistate"===a.type){var i=this.createAxisY(a.labels);r.yAxis=i,i.renderer.line.stroke=r.stroke,i.title.text=a.name}if("Binary"===a.type&&a.labels.size>0){var o=this.createAxisY(a.labels);r.yAxis=o,o.renderer.line.stroke=r.stroke,o.title.text=a.name}}}catch(l){t.e(l)}finally{t.f()}}},{key:"createSeries",value:function(e,t,a){return _(A(n.prototype),"createSeries",this).call(this,"StepLine","date",e,t,a)}}]),n}(s["a"]),F={name:"StepLineChartComponent",props:["pointId","pointXid","color","label","startDate","endDate","refreshRate","width","height","polylineStep","rangeValue","rangeColor","rangeLabel","showScrollbarX","showScrollbarY","showLegend","showReload","showDebug"],data:function(){return{errorMessage:void 0,chartClass:void 0,isExportId:!1}},mounted:function(){this.generateChart()},methods:{generateChart:function(){var e=this;Number(this.polylineStep)>1&&I.setPolylineStep(Number(this.polylineStep)),this.chartClass=new I(this.$refs.chartdiv,this.color),this.chartClass.displayControls(this.showScrollbarX,this.showScrollbarY,this.showLegend),void 0===this.pointXid||null===this.pointXid||null!==this.pointId&&void 0!==this.pointId||(this.isExportId=!0);var t,n=[];t=this.isExportId?this.pointXid.split(","):this.pointId.split(",");for(var a=0;a<t.length;a++)n.push(this.chartClass.loadData(t[a],this.startDate,this.endDate,this.isExportId));Promise.all(n).then((function(t){for(var n=0;n<t.length;n++)"done"!==t[n]&&(e.errorMessage="Point given with index ["+n+"] has not been loaded!");e.chartClass.showChart(),void 0!==e.rangeValue&&null!==e.rangeValue&&e.chartClass.addRangeValue(Number(e.rangeValue),e.rangeColor,e.rangeLabel),void 0!=e.refreshRate&&null!==e.refreshRate&&e.chartClass.startLiveUpdate(Number(e.refreshRate),e.isExportId)}))},reload:function(){this.generateChart()},debug:function(){console.debug(this.chartClass)}}},P=F,O=(n("db83"),n("2877")),k=Object(O["a"])(P,a,r,!1,null,"7e95e003",null);t["a"]=k.exports},"0868":function(e,t,n){},"150f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ag-grid-vue",{staticClass:"ag-theme-balham",staticStyle:{height:"350px"},attrs:{columnDefs:e.columnDefs,rowData:e.rowData}})],1)},r=[],i=n("401b"),o=n("c1df"),s=n.n(o),l=n("4360"),c={name:"history-cmp",props:["pxIdViewAndIdCmp","value"],data:function(){return{columnDefs:null,rowData:null,xIdViewAndIdCmp:this.pxIdViewAndIdCmp}},components:{AgGridVue:i["AgGridVue"]},beforeMount:function(){this.columnDefs=[{headerName:"user",field:"userName",width:120,resizable:!0},{headerName:"time",field:"unixTime",width:200,resizable:!0,sortable:!0,cellRenderer:function(e){return s()(e.value).format("Do MMMM YYYY, HH:mm:ss ")}},{headerName:"to state",field:"interpretedState",width:120,resizable:!0},{headerName:"values",field:"values",resizable:!0,cellRenderer:function(e){return JSON.stringify(e.value)}}]},mounted:function(){},watch:{value:function(e,t){var n=this;1==e?l["a"].dispatch("getHisotryCMP",this.xIdViewAndIdCmp).then((function(e){n.rowData=n._.orderBy(e.data.history,["unixTime"],["desc"])})):this.rowData=null}}},d=c,u=n("2877"),h=Object(u["a"])(d,a,r,!1,null,null,null);t["a"]=h.exports},"192b":function(e,t,n){},"23d8":function(e,t,n){},"2bf5":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("71c9"),r=n("c497"),i=n("bc3a"),o=n.n(i);function s(e){return d(e)||c(e)||v(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return g(e)}function u(e,t){return m(e)||p(e,t)||v(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){r=!0,i=l}finally{try{a||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function m(e){if(Array.isArray(e))return e}function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var y=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";b(this,e),"XYChart"===n?this.chart=a["d"](t,r["l"]):"PieChart"===n?this.chart=a["d"](t,r["h"]):"GaugeChart"===n&&(this.chart=a["d"](t,r["e"])),this.pointPastValues=new Map,this.pointCurrentValue=new Map,this.liveUpdatePointValues=new Map,this.lastUpdate=0,this.lastTimestamp=(new Date).getTime(),this.liveUpdateInterval=5e3,this.domain=o;var s=[a["c"]("#39B54A"),a["c"]("#69FF7D"),a["c"]("#166921"),a["c"]("#690C24"),a["c"]("#B53859"),a["c"]("#734FC1"),a["c"]("#824F1B"),a["c"]("#69421B")];if(void 0!==i&&null!==i&&(i=i.split(","),i.length>0))for(var l=i.length-1;l>=0;l--)s.unshift(a["c"](i[l].trim()));this.chart.colors.list=s,this.yAxesCount=0}return w(e,[{key:"showChart",value:function(){this.setupChart()}},{key:"loadData",value:function(t,n,a,r){var i;return void 0===n||null===n?(n=(new Date).getTime()-36e5,a=(new Date).getTime()):void 0===n||null===n||void 0!==a&&null!==a?void 0!==n&&null!==n&&void 0!==a&&null!==a&&(n=new Date(n).getTime(),a=new Date(a).getTime(),(isNaN(n)||isNaN(a))&&(console.warn("Parameter [start-date | end-date] are not valid!\nConnecting to API with default values"),n=(new Date).getTime()-36e5,a=(new Date).getTime())):(n=e.convertDate(n),a=(new Date).getTime(),isNaN(n)&&(console.warn("Parameter start-date is not valid!\nConnecting to API with default values"),n=(new Date).getTime()-36e5)),i=r?"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/xid/").concat(t,"/").concat(n,"/").concat(a):"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/").concat(t,"/").concat(n,"/").concat(a),new Promise((function(e,t){try{o.a.get(i,{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(n){t(n)}}))}},{key:"startLiveUpdate",value:function(e,t){var n=this;this.liveUpdateInterval=setInterval((function(){n.refreshPointValues(t)}),e)}},{key:"loadLiveData",value:function(){var t,n=this,a=f(this.pointCurrentValue);try{for(a.s();!(t=a.n()).done;){var r=u(t.value,2),i=r[0];r[1];o.a.get("".concat(this.domain,"/api/point_value/getValue/id/").concat(i),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(e){isNaN(e.data.value)&&("true"==e.data.value?e.data.value=1:e.data.value=0);var t={name:e.data.name,value:e.data.value};void 0==n.liveUpdatePointValues.get(e.data.ts)?n.liveUpdatePointValues.set(e.data.ts,[t]):n.liveUpdatePointValues.get(e.data.ts).push(t)}))}}catch(s){a.e(s)}finally{a.f()}this.chart.addData(e.prepareChartData(e.sortMapKeys(this.liveUpdatePointValues))),void 0!=this.liveUpdatePointValues&&this.liveUpdatePointValues.clear()}},{key:"getPointValue",value:function(e){var t=this;return new Promise((function(n,a){try{o.a.get("".concat(t.domain,"/api/point_value/getValue/id/").concat(e),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}catch(r){a(r)}}))}},{key:"getPointValueXid",value:function(e){var t=this;return new Promise((function(n,a){try{o.a.get("".concat(t.domain,"/api/point_value/getValue/").concat(e),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}catch(r){a(r)}}))}},{key:"getPeriodicUpdate",value:function(e,t,n){var a,r=(new Date).getTime();return a=n?"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/xid/").concat(e,"/").concat(t,"/").concat(r):"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/").concat(e,"/").concat(t,"/").concat(r),new Promise((function(e,t){try{o.a.get(a,{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(n){t(n)}}))}},{key:"addValue",value:function(e,t,n){isNaN(e.value)&&("true"==e.value?e.value=1:e.value=0);var a={name:t,value:e.value};void 0==n.get(e.ts)?n.set(e.ts,[a]):n.get(e.ts).push(a)}},{key:"refreshPointValues",value:function(t){var n,a=this,r=[],i=f(this.pointCurrentValue);try{for(i.s();!(n=i.n()).done;){var o=u(n.value,2),s=o[0];o[1];t&&r.push(this.getPeriodicUpdate(s,this.lastTimestamp,t).then((function(e){e.values.forEach((function(t){a.addValue(t,e.name,a.liveUpdatePointValues)}))})))}}catch(l){i.e(l)}finally{i.f()}Promise.all(r).then((function(){var t=e.prepareChartData(a.liveUpdatePointValues);t.length>0&&t[t.length-1].date>a.lastUpdate&&(a.chart.addData(t,1),a.lastTimestamp=(new Date).getTime(),a.lastUpdate=t[t.length-1].date,a.liveUpdatePointValues.clear())}))}},{key:"stopLiveUpdate",value:function(){clearInterval(this.liveUpdateInterval),this.pointCurrentValue.clear(),this.pointPastValues.clear(),this.liveUpdatePointValues.clear()}},{key:"setupChart",value:function(){this.chart.data=e.prepareChartData(e.sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(),this.createExportMenu();var t,n=f(this.pointCurrentValue);try{for(n.s();!(t=n.n()).done;){var a=u(t.value,2),r=(a[0],a[1]);this.createSeries("StepLine","date",r.name,r.name)}}catch(i){n.e(i)}finally{n.f()}}},{key:"createSeries",value:function(e,t,n,i){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("Column"===e?o=this.chart.series.push(new r["c"]):"Line"===e?o=this.chart.series.push(new r["g"]):"StepLine"===e?(o=this.chart.series.push(new r["j"]),o.startLocation=.5):"Pie"===e&&(o=this.chart.series.push(new r["i"])),"Column"===e)o.dataFields.categoryX=t,o.dataFields.valueY=n,o.columns.template.tooltipText="{valueY.value}",o.columns.template.tooltipY=0,o.columns.template.strokeOpacity=0;else if("Pie"===e)o.dataFields.value=n,o.dataFields.category=t,o.slices.template.strokeWidth=2,o.slices.template.strokeOpacity=1;else{o.dataFields.dateX=t,o.dataFields.valueY=n,s.trim().startsWith("[")&&(s="[".concat(s,"]")),o.tooltipText="{name}: [bold]{valueY}[/] "+s,o.tooltip.background.cornerRadius=20,o.tooltip.background.strokeOpacity=0,o.tooltip.pointerOrientation="vertical",o.tooltip.label.minWidth=40,o.tooltip.label.minHeight=40,o.tooltip.label.textAlign="middle",o.tooltip.label.textValign="middle",o.strokeWidth=3,o.fillOpacity=.3,o.minBulletDistance=15;var l=o.bullets.push(new r["b"]);l.circle.strokeWidth=2,l.circle.radius=5,l.circle.fill=a["c"]("#fff")}return o.name=i,this.chart.scrollbarX&&this.chart.scrollbarX.series.push(o),o}},{key:"createAxisX",value:function(e,t){var n;"ValueAxis"===e?(n=this.chart.xAxes.push(new r["k"]),n.min=0,n.max=100,n.renderer.grid.template.strokeOpacity=.3):"DateAxis"===e?(n=this.chart.xAxes.push(new r["d"]),n.dateFormats.setKey("second","HH:mm:ss"),n.dateFormats.setKey("minute","HH:mm:ss"),n.dateFormats.setKey("hour","HH:mm"),n.dateFormats.setKey("day","MMM dd"),n.periodChangeDateFormats.setKey("hour","[bold]dd MMM HH:mm[/]"),n.periodChangeDateFormats.setKey("day","[bold]MMM[/] dd"),n.periodChangeDateFormats.setKey("month","[bold]yyyy[/] MMM")):"CategoryAxis"===e&&(n=this.chart.xAxes.push(new r["a"]),n.dataFields.category=t,n.renderer.grid.template.location=0,n.renderer.minGridDistance=30,n.renderer.labels.template.horizontalCenter="right",n.renderer.labels.template.verticalCenter="middle",n.renderer.labels.template.rotation=315,n.tooltip.disabled=!0,n.renderer.minHeight=110)}},{key:"createAxisY",value:function(e){var t;return t=this.chart.yAxes.push(new r["k"]),t.tooltip.disabled=!1,t.renderer.opposite=Boolean(this.yAxesCount%2),void 0!==e&&e.size>0&&t.renderer.labels.template.adapter.add("text",(function(t){return void 0!==e.get(t)?e.get(t):""})),this.yAxesCount=this.yAxesCount+1,t}},{key:"addRangeValue",value:function(e,t,n){void 0!==t&&""!==t||(t="#FF150A"),void 0===n&&(n="");var r=this.chart.yAxes.getIndex(0).axisRanges.create();r.value=e,r.grid.stroke=a["c"](t),r.grid.strokeWidth=2,r.grid.strokeOpacity=1,r.label.inside=!0,r.label.text=n,r.label.fill=r.grid.stroke,r.label.verticalCenter="bottom"}},{key:"createScrollBarsAndLegend",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e&&(this.chart.scrollbarX=new r["m"],this.chart.scrollbarX.parent=this.chart.bottomAxesContainer),t&&(this.chart.scrollbarY=new a["b"],this.chart.scrollbarY.parent=this.chart.leftAxesContainer),n&&(this.chart.legend=new r["f"]),i&&(this.chart.cursor=new r["n"],this.chart.cursor.behavior="panXY")}},{key:"createExportMenu",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Scada_Chart";e&&(this.chart.exporting.menu=new a["a"],this.chart.exporting.menu.align="right",this.chart.exporting.menu.vetricalAlign="top",this.chart.exporting.filePrefix=t+"_"+String((new Date).getTime()))}}],[{key:"setPolylineStep",value:function(e){a["e"].minPolylineStep=e}},{key:"sortMapKeys",value:function(e){var t=function(e,t){return e[0]>t[0]?1:-1};return new Map(s(e).sort(t))}},{key:"prepareChartData",value:function(e){var t=[];return e.forEach((function(e,n){var a='{ "date":'+n;e.forEach((function(e){isNaN(Number(e.value))||(a=a+', "'+e.name+'":'+e.value)})),a+="}",t.push(JSON.parse(a))})),t}},{key:"convertDate",value:function(e){var t=new Date(e);if("Invalid Date"==t){if(t=e.split("-"),2===t.length){var n=new Date,a=1;switch(t[1]){case"hour":case"hours":a=36e5;break;case"day":case"days":a=864e5;break;case"week":case"weeks":a=6048e5;break;case"month":case"months":a=26784e5;break}return n.getTime()-Number(t[0])*a}return console.warn("Not vaild date. Use for example ['1-day' | '2-months' | '3-days']\nReturning default value!"),dateNow.getTime()-36e5}return t.getTime()}}]),e}()},"2e78":function(e,t,n){"use strict";var a=n("5de9"),r=n.n(a);r.a},4079:function(module,__webpack_exports__,__webpack_require__){"use strict";var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("c1df"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__),vue_underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("f2ef"),uiv_src_components_button_BtnGroup__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("29aa"),_HistoryCMP__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("150f");function _typeof(e){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ChangeDataDTO=function e(t,n,a,r){_classCallCheck(this,e),this.xid=t,this.value=n,this.resultOperationSave=a,this.error=r},ApiCMP=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){return new Promise((function(t,n){try{var a="./api/cmp/get/".concat(e);if(e.length>0)axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(a,{timeout:5e3}).then((function(e){t(e)})).catch((function(e){n(e)}));else{var r=new Error("Probably not have data");n(r)}}catch(i){n(i)}}))}},{key:"set",value:function(e,t,n){return new Promise((function(a,r){try{if(e.length>0)axios__WEBPACK_IMPORTED_MODULE_1___default()({method:"post",url:"./api/cmp/set/".concat(t,"/").concat(n),headers:{},timeout:5e3,data:e}).then((function(e){a(e)})).catch((function(e){r(e)}));else{var i=new Error("Probably not have data");r(i)}}catch(o){r(o)}}))}}]),e}();__webpack_exports__["a"]={components:{BtnGroup:uiv_src_components_button_BtnGroup__WEBPACK_IMPORTED_MODULE_3__["a"],HistoryCMP:_HistoryCMP__WEBPACK_IMPORTED_MODULE_4__["a"]},props:["pConfig","pLabel","pTimeRefresh","pxIdViewAndIdCmp"],data:function(){return{openModalWithHistory:!1,show:!1,errors:[],newErrors:[],errorResultingFromOperationControl:"",errorsNotification:!1,strConfig:this.pConfig,config:{},insideState:"NOT-CHECKED",label:this.pLabel,timeRefresh:this.pTimeRefresh,controlsLevel0:[],controlsLevel1:[],selectActionLevel0:"",selectActionLevel1:"",disabledChange:!1,processOfCheckingTheStatus:!1,counterForAnaliseInOrder:-1,showFaultV:!1,checkIfThereAreSharesToConfirmValue:!0,xIdViewAndIdCmp:this.pxIdViewAndIdCmp}},methods:{endChecking:function(){this.insideState=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].name,this.disabledChange=!!this.config.state.analiseInOrder[this.counterForAnaliseInOrder].disable,this.disabledChange&&(this.show=!1,1==this.showFaultV&&(this.showFaultV=!1,this.newErrors=[])),this.processOfCheckingTheStatus=!1,this.counterForAnaliseInOrder=-1,this.checkToNotificationError()},checkToNotificationError:function(){this.errorsNotification==this.newErrors.length>0&&this.errorsNotification==this.errorResultingFromOperationControl.length>0||(this.errorsNotification=this.newErrors.length>0||this.errorResultingFromOperationControl.length>0),this.errors=this.newErrors,this.errorResultingFromOperationControl.length>0&&this.errors.push(this.errorResultingFromOperationControl),this.newErrors=[],this.errorResultingFromOperationControl=""},setErrorAndStopAnaliseInOrder:function(e){this.newErrors.push(e),this.insideState="Error",this.processOfCheckingTheStatus=!1,this.counterForAnaliseInOrder=-1},setErrorAndNotification:function(e){this.errorResultingFromOperationControl=e,this.insideState="Error",this.checkToNotificationError()},showFault:function(){this.showFaultV=!this.showFaultV,this.checkStatus()},checkStatus:function(){this.newErros=[],this.counterForAnaliseInOrder=0,this.processOfCheckingTheStatus=!1},setActionLeve0:function(e){var t=this,n=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.controlsLevel0,{name:e}),a=!!n.runDirectlyBeforeShowSubMenu;if(1==a){for(var r=[],i=n.save,o=0;o<i.length;o++){var s=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.config.control.definitionPointToSaveValue,{def:i[o].refDefPoint}),l=new ChangeDataDTO(s.xid,i[o].value,"","");r.push(l)}r.length>0&&(new ApiCMP).set(r,this.xIdViewAndIdCmp,e).then((function(n){var a=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(t.controlsLevel0,{name:e});void 0!=a.toChange?t.controlsLevel1!=a.toChange&&(t.controlsLevel1=a.toChange):t.controlsLevel1=[],t.selectActionLevel1=""})).catch((function(e){t.setErrorAndNotification(e.message)}))}else if(this.selectActionLevel0==e)this.selectActionLevel0="";else{this.selectActionLevel0=e;var c=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.controlsLevel0,{name:e});void 0!=c.toChange?this.controlsLevel1=c.toChange:this.controlsLevel1=[],this.selectActionLevel1=""}},setActionLevel1:function(e){this.selectActionLevel1==e?this.selectActionLevel1="":this.selectActionLevel1=e},tryChangeModePLC:function(){var e=this,t=[],n=null,a=null;if(""!=this.selectActionLevel1?(n=this.selectActionLevel1,a=this.controlsLevel1):""!=this.selectActionLevel0&&(n=this.selectActionLevel0,a=this.controlsLevel0),null!=n){for(var r=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(a,{name:n}),i=r.save,o=0;o<i.length;o++){var s=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.config.control.definitionPointToSaveValue,{def:i[o].refDefPoint}),l=new ChangeDataDTO(s.xid,i[o].value,"","");t.push(l)}t.length>0&&(new ApiCMP).set(t,this.xIdViewAndIdCmp,n).then((function(t){e.show=!1})).catch((function(t){e.setErrorAndNotification(t.message)}))}},checkIfThereAreSharesToConfirm:function(){var e=!1;if("object"===_typeof(this.controlsLevel1)&&this.controlsLevel1.length>0)e=!0;else for(var t=0;t<this.controlsLevel0.length;t++){var n=!!this.controlsLevel0[t].runDirectlyBeforeShowSubMenu;if(0==n){e=!0;break}}return e},close:function(){this.show=!1}},created:function(){try{this.config=JSON.parse(this.strConfig),this.controlsLevel0=this.config.control.toChange}catch(e){this.setErrorAndNotification(e.message)}this.timeRefresh&&setInterval(function(){try{this.checkStatus()}catch(e){console.log(e)}}.bind(this),this.timeRefresh)},mounted:function(){console.log("CMP pxIdViewAndIdCmp:".concat(this.xIdViewAndIdCmp)),this.checkStatus()},filters:{moment:function(e){return moment__WEBPACK_IMPORTED_MODULE_0___default()(e).format(" hh:mm:ss")}},watch:{show:function(e,t){if(1==e){var n=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.controlsLevel0,{name:this.insideState});void 0!=n&&(void 0!=n.toChange?this.controlsLevel1=n.toChange:this.controlsLevel1=[],this.selectActionLevel0=n.name,this.selectActionLevel1="")}},insideState:function(e,t){if(e!=t){var n=vue_underscore__WEBPACK_IMPORTED_MODULE_2__["a"].findWhere(this.controlsLevel0,{name:this.insideState});void 0!=n&&(void 0!=n.toChange?this.controlsLevel1=n.toChange:this.controlsLevel1=[],this.selectActionLevel0=n.name,this.selectActionLevel1="")}},counterForAnaliseInOrder:function counterForAnaliseInOrder(val,oldVal){var _this3=this;if(this.counterForAnaliseInOrder>=0){this.processOfCheckingTheStatus=!0;var points=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].toChecked,name=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].name;if(void 0!=points&&points.length>0){for(var xIDs=[],j=0;j<points.length;j++){if("true"==points[j].last){this.insideState!=name&&(this.insideState=name),this.endChecking();break}xIDs.push(points[j].xid)}xIDs.length>0&&(new ApiCMP).get(xIDs).then((function(response){if(response.data.length>0){for(var toCheck=[],k=0;k<points.length;k++){var entry=points[k];try{for(var z=0;z<response.data.length;z++)if(response.data[z].xid.toUpperCase().trim()==entry.xid.toUpperCase().trim()){entry.value=response.data[z].value,toCheck.push(entry);break}if(void 0==entry.value)return void _this3.setErrorAndStopAnaliseInOrder("The device did not retain data")}catch(e){return void _this3.setErrorAndStopAnaliseInOrder(e.message)}}for(var condition="",e=0;e<toCheck.length;e++){if(1==!!toCheck[e].toNoteError)if(_this3.showFaultV)_this3.newErrors.push(toCheck[e].describe);else{var check=eval("("+toCheck[e].value+toCheck[e].equals+")");1==!!check&&_this3.newErrors.push(toCheck[e].describe)}var bitOperator=void 0!=toCheck[e].bitOperatorToThePreviousCondition?toCheck[e].bitOperatorToThePreviousCondition:"";condition+=bitOperator+"("+toCheck[e].value+toCheck[e].equals+")"}var resultCondition=eval(condition);1==!!resultCondition?_this3.endChecking():_this3.config.state.analiseInOrder.length>_this3.counterForAnaliseInOrder-1&&_this3.counterForAnaliseInOrder++}})).catch((function(e){_this3.setErrorAndNotification(e.message)}))}}},controlsLevel0:function(e,t){this.checkIfThereAreSharesToConfirmValue=this.checkIfThereAreSharesToConfirm()},controlsLevel1:function(e,t){this.checkIfThereAreSharesToConfirmValue=this.checkIfThereAreSharesToConfirm()}}}},"421d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"historical-alarms-components"},["true"==e.showMainToolbar?n("SimplePanel",{staticClass:"panel_top"},[e._v(" To refresh "+e._s(e.toRefresh)+" "),n("div",{staticClass:"action"},["true"==e.showSelectToAcknowledge?n("input",{directives:[{name:"model",rawName:"v-model",value:e.sellAll,expression:"sellAll"}],ref:"selectAll",attrs:{type:"checkbox",id:"select_all",name:"Select_All",value:"0"},domProps:{checked:Array.isArray(e.sellAll)?e._i(e.sellAll,"0")>-1:e.sellAll},on:{click:function(t){return e.toggleSelectAll()},change:function(t){var n=e.sellAll,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i="0",o=e._i(n,i);a.checked?o<0&&(e.sellAll=n.concat([i])):o>-1&&(e.sellAll=n.slice(0,o).concat(n.slice(o+1)))}else e.sellAll=r}}}):e._e(),e._v(" "),n("label",{staticClass:"selall",attrs:{for:"select_all"},on:{click:function(t){return e.toggleSelectAll()}}},[e._v("Select All")]),n("br")])]):e._e(),n("table",[n("tr",["true"==e.showSelectToAcknowledge?n("th"):e._e(),n("th",[e._v("Activation Timestamp")]),n("th",[e._v("Inactivation Timestamp")]),n("th",[e._v("Variable name")])]),e._l(e.alarms,(function(t,a){return n("tr",{key:a,class:{activation:e.isActivation(t["activation-time"],t["inactivation-time"],t.level),activation_alarm:e.isActivationAlarm(t["activation-time"],t["inactivation-time"],t.level),inactivation:e.isInactivation(t["activation-time"],t["inactivation-time"],t.level)}},["true"==e.showSelectToAcknowledge?n("td",[void 0!=t&&void 0!=t["inactivation-time"]&&t["inactivation-time"].trim().length>0?n("input",{directives:[{name:"model",rawName:"v-model",value:e.to_acknowledges,expression:"to_acknowledges"}],attrs:{type:"checkbox",name:"ActivationAction"},domProps:{value:t.id,checked:Array.isArray(e.to_acknowledges)?e._i(e.to_acknowledges,t.id)>-1:e.to_acknowledges},on:{change:function(n){var a=e.to_acknowledges,r=n.target,i=!!r.checked;if(Array.isArray(a)){var o=t.id,s=e._i(a,o);r.checked?s<0&&(e.to_acknowledges=a.concat([o])):s>-1&&(e.to_acknowledges=a.slice(0,s).concat(a.slice(s+1)))}else e.to_acknowledges=i}}}):e._e()]):e._e(),n("td",[e._v(e._s(t["activation-time"]))]),n("td",[e._v(e._s(t["inactivation-time"]))]),n("td",[e._v(e._s(t.name))])])}))],2),"true"==e.showPagination?n("SimplePanel",[n("div",{staticClass:"pagination"},[n("SimplePagination",{attrs:{"current-page":e.currentPage,"page-count":e.pageCount,"visible-pages-count":8},on:{nextPage:function(t){return e.pageChangeHandle("next")},previousPage:function(t){return e.pageChangeHandle("pref")},loadPage:e.pageChangeHandle}})],1)]):e._e(),"true"==e.showAcknowledgeBtn?n("div",{staticClass:"action_bottom"},[n("button",{on:{click:function(t){return e.acknowledge()}}},[e._v("Acknowledge Störung/Alarms")])]):e._e()],1)},r=[],i=n("4360"),o=n("59c1"),s=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={el:"#alarms_component",name:"alarmsComponent",components:c({},s.a),props:["pShowAcknowledgeBtn","pShowMainToolbar","pShowSelectToAcknowledge","pShowPagination","pMaximumNumbersOfRows"],data:function(){return{LEVEL_FAULT:1,LEVEL_ALARM:2,alarms:[],currentPage:1,pageCount:10,toRefresh:5,to_acknowledges:[],sellAll:!1,showAcknowledgeBtn:this.pShowAcknowledgeBtn,showMainToolbar:this.pShowMainToolbar,showSelectToAcknowledge:this.pShowSelectToAcknowledge,showPagination:this.pShowPagination,maximumNumbersOfRows:this.pMaximumNumbersOfRows,hidePagination:!1}},methods:{getAlarms:function(e){var t=this,n=this.maximumNumbersOfRows,a=String(n*(e-1)),r=String(n);i["a"].dispatch("getLiveAlarms",{offset:a,limit:r}).then((function(n){t.alarms=n,t.alarms.length>=t.maximumNumbersOfRows||e>1?("false"==t.showPagination&&(t.hidePagination=!0),t.showPagination="true"):1==t.hidePagination&&(t.showPagination="false")}))},acknowledge:function(){for(var e=this,t=0;t<this.to_acknowledges.length;t++){var n=this.to_acknowledges[t];i["a"].dispatch("setAcknowledge",{id:n}).then((function(t){console.log("ackn:".concat(t)),e.sellAll=!1})).catch((function(e){console.log("ackn-err:".concat(e))}))}this.getAlarms(this.currentPage)},toggleSelectAll:function(){var e=document.getElementsByName("ActivationAction");if(this.sellAll)this.to_acknowledges=[];else if(null!=e&&void 0!=e)for(var t=0;t<e.length;t++)this.to_acknowledges.push(e[t]._value)},checkPrm:function(e,t,n){return void 0!==e&&void 0!==t&&void 0!==n&&(null!==e&&null!==t&&null!==n)},isActivation:function(e,t,n){return!!this.checkPrm(e,t,n)&&(e.trim().length>0&&0==t.trim().length&&n==this.LEVEL_FAULT)},isActivationAlarm:function(e,t,n){return!!this.checkPrm(e,t,n)&&(e.trim().length>0&&0==t.trim().length&&n==this.LEVEL_ALARM)},isInactivation:function(e,t,n){return!!this.checkPrm(e,t,n)&&(e.trim().length>0&&t.trim().length>0)},pageChangeHandle:function(e){this.to_acknowledges=[],this.sellAll=!1;try{if("next"===e)return void(this.currentPage<9&&(this.currentPage=Number(this.currentPage+1),this.getAlarms(this.currentPage)));if("pref"===e)return void(this.currentPage>1&&(this.currentPage=Number(this.currentPage-1),this.getAlarms(this.currentPage)));this.currentPage=Number(e),this.getAlarms(this.currentPage)}catch(t){console.log("pageCH:".concat(t))}}},created:function(){void 0===this.showAcknowledgeBtn&&(this.showAcknowledgeBtn="true"),void 0===this.showMainToolbar&&(this.showMainToolbar="true"),void 0===this.showSelectToAcknowledge&&(this.showSelectToAcknowledge="true"),void 0===this.showPagination&&(this.showPagination="true"),void 0==this.maximumNumbersOfRows&&(this.maximumNumbersOfRows=20),this.getAlarms(1)},mounted:function(){var e=this;setInterval((function(){0==e.toRefresh?(e.getAlarms(e.currentPage),e.toRefresh=5,console.log("getAlarms")):e.toRefresh=e.toRefresh-1}),1e3)}},h=u,p=(n("bf88"),n("2877")),m=Object(p["a"])(h,a,r,!1,null,"5f5d08df",null);t["a"]=m.exports},"42d3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.label))]),n("svg",{attrs:{width:"100",height:"20"}},[n("rect",{staticStyle:{fill:"rgb(255,255,255)","stroke-width":"2",stroke:"rgb(0,0,0)"},attrs:{width:"100",height:"20"}}),n("text",{attrs:{x:"5",y:"16",fill:"red"}},[e._v(e._s(e.value))])])])},r=[],i=n("bc3a"),o=n.n(i),s={name:"simple-component-svg",props:["pxidPoint","ptimeRefresh","plabel","pvalue"],data:function(){return{xidPoint:this.pxidPoint,timeRefresh:this.ptimeRefresh,label:this.plabel,value:this.pvalue,count:0}},methods:{getData:function(){var e=this,t="./api/point_value/getValue/".concat(this.xidPoint);o.a.get(t).then((function(t){e.value=t.data.value,e.count++})).catch((function(e){console.log(e)}))}},created:function(){void 0!=this.timeRefresh&&setInterval(function(){this.getData()}.bind(this),this.timeRefresh)}},l=s,c=n("2877"),d=Object(c["a"])(l,a,r,!1,null,null,null);t["a"]=d.exports},4360:function(e,t,n){"use strict";var a=n("2b0e"),r=n("2f62"),i={state:{},mutations:{},actions:{},getters:{}},o=i,s=n("bc3a"),l=n.n(s),c={state:{warning:!1,success:!1,danger:!0,timeWarningEpoch:5e3,timeErrorEpoch:1e3,timeRefreshEpoch:2e3,timeServerEpoch:-1,timeInWebEpoch:-1,msgErr:"",lastTimeCheck:-1},mutations:{SET_INIT:function(e,t){e.warning=!1,e.success=!1,e.danger=!0,e.timeWarningEpoch=t.tw,e.timeErrorEpoch=t.te,e.timeRefreshEpoch=t.tr},CHECK_IS_ALIVE:function(e,t){e.lastTimeCheck=t},ERR:function(e,t){e.msgErr=t}},actions:{calculateStateIsAlive:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e){a.timeServerEpoch=t,a.timeInWebEpoch=Date.now()/1e3,a.danger=1e3*(a.timeInWebEpoch-a.timeServerEpoch)>=a.timeErrorEpoch,a.danger?(a.warning=!1,a.success=!1):(a.warning=1e3*(a.timeInWebEpoch-a.timeServerEpoch)>=a.timeWarningEpoch,a.warning?(a.danger=!1,a.success=!1):(a.danger=!1,a.warning=!1,a.success=!0)),n("CHECK_IS_ALIVE",t),e()}))},isAlive:function(e){var t=e.state,n=e.commit,a=e.dispatch;return new Promise((function(e,r){l.a.get("./api/is_alive/time",{timeout:t.timeRefreshEpoch}).then((function(t){a("calculateStateIsAlive",t.data).then((function(){e(t)}))})).catch((function(e){a("calculateStateIsAlive",t.timeServerEpoch).then((function(){n("ERR",e),r(e)}))}))}))},setInitIsAlive:function(e,t){var n=e.commit;n("SET_INIT",t)}},getters:{warningIsAlive:function(e){return e.warning},successIsAlive:function(e){return e.success},dangerIsAlive:function(e){return e.danger},timeWarningEpochIsAlive:function(e){return e.timeWarningEpoch},timeErrorEpochIsAlive:function(e){return e.timeErrorEpoch},timeRefreshIsAlive:function(e){return e.timeRefreshEpoch},timeFromServerIsAlive:function(e){return e.timeServerEpoch},timeInWebIsAlive:function(e){return e.timeInWebEpoch},msgErrorIsAlive:function(e){return e.msgErr}}},d=c,u=5e3,h={state:{msgErr:""},mutations:{ERR:function(e,t){e.msgErr=t}},actions:{getHisotryCMP:function(e,t){var n=e.commit;return new Promise((function(e,a){l.a.get("./api/cmp/history/".concat(t),{timeout:u}).then((function(t){e(t)})).catch((function(e){n("ERR",e),a()}))}))}},getters:{msgErrorHistoryCMP:function(e){return e.msgErr}}},p=h,m={modules:{storeIsAlive:d,storeHistoryCMP:p},state:{},mutations:{},actions:{},getters:{}},f=m,v={state:{},mutations:{},actions:{},getters:{}},g=v,b={state:{activeWatchList:null,activeUser:null,chartCounter:0,chartList:[]},mutations:{loadActiveUser:function(e){e.activeUser=document.getElementsByClassName("userName").item(0).innerText},loadCharts:function(e){if(0==e.chartList.length){var t=localStorage.getItem("MWL_Chart_".concat(e.activeUser));null!=t&&(e.chartList=JSON.parse(t),e.chartCounter=e.chartList[e.chartList.length-1].id)}},addChart:function(e,t){e.chartList.push(t),this.commit("saveCharts")},editChart:function(e,t){var n=e.chartList.findIndex((function(e){return e.id==t.id}));e.chartList[n]=t,this.commit("saveCharts")},deleteChart:function(e,t){e.chartList=e.chartList.filter((function(e){return e.id!=t.id})),this.commit("saveCharts")},saveCharts:function(e){localStorage.setItem("MWL_Chart_".concat(e.activeUser),JSON.stringify(e.chartList))},incrementChartId:function(e){e.chartCounter=e.chartCounter+1}},actions:{},getters:{getCharts:function(e){return e.chartList},getNextChartId:function(e){return e.chartCounter}}},_=b,w=n("2bf5"),y={modules:{},state:{domain:".",timeout:2e3},mutations:{},actions:{loadData:function(e,t,n,a){var r=e.state,i=(e.dispatch,"".concat(r.domain,"/api/point_value/getValuesFromTimePeriod")),o=T(n,a);return new Promise((function(e,n){try{l.a.get("".concat(i,"/").concat(t,"/").concat(o.start,"/").concat(o.end),{timeout:r.timeout,useCredentails:!0,credentials:"same-origin"}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}catch(a){n(a)}}))},getPointValueById:function(e,t){e.dispatch;var n="".concat(state.domain,"/api/point_value/getValue/id");return new Promise((function(e,a){try{l.a.get("".concat(n,"/").concat(t),{timeout:state.timeout,useCredentails:!0,credentials:"same-origin"}).then((function(t){e(t.data)})).catch((function(e){a(e)}))}catch(r){a(r)}}))}},getters:{}};function T(e,t){return void 0===e||null===e?(e=(new Date).getTime()-36e5,t=(new Date).getTime()):void 0===e||null===e||void 0!==t&&null!==t?void 0!==e&&null!==e&&void 0!==t&&null!==t&&(e=new Date(e).getTime(),t=new Date(t).getTime(),(isNaN(e)||isNaN(t))&&(console.warn("Parameter [start-date | end-date] are not valid!\nConnecting to API with default values"),e=(new Date).getTime()-36e5,t=(new Date).getTime())):(e=w["a"].convertDate(e),t=(new Date).getTime(),isNaN(e)&&(console.warn("Parameter start-date is not valid!\nConnecting to API with default values"),e=(new Date).getTime()-36e5)),{start:e,end:t}}var C=y,x={state:{msgErr:""},mutations:{ERR:function(e,t){e.msgErr=t}},actions:{getLiveAlarms:function(e,t){var n=e.commit,a=t.offset,r=t.limit;return new Promise((function(e,t){l.a.get("./api/alarms/live/".concat(a,"/").concat(r)).then((function(t){console.log("axios:res:".concat(JSON.stringify(t))),e(t.data)})).catch((function(e){n("ERR",e),t()}))}))},getHistoryAlarms:function(e,t){var n=e.commit,a=t.dateDay,r=t.filterRLike,i=t.offset,o=t.limit;return new Promise((function(e,t){var s="./api/alarms/history/".concat(a,"/").concat(r,"/").concat(i,"/").concat(o);console.log(s),l.a.get(s).then((function(t){e(t.data)})).catch((function(e){n("ERR",e),t()}))}))},setAcknowledge:function(e,t){var n=e.commit,a=t.id;return new Promise((function(e,t){l.a.post("./api/alarms/acknowledge/".concat(a)).then((function(t){e(t.data)})).catch((function(e){n("ERR",e),t()}))}))},fakeGetLiveAlarms:function(e,t){e.commit,t.offset,t.limit;return new Promise((function(e){setTimeout((function(){e([{"id:":111,"activation-time":"2020-03-10 07:13:34","inactivation-time":"",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",level:"5"},{"id:":112,"activation-time":"2020-03-10 07:13:24","inactivation-time":"",name:"Be AL GM01 gas alarm",level:"4"},{"id:":113,"activation-time":"2020-03-10 07:13:24","inactivation-time":"2020-03-10 06:33:54",name:"Se AL GM02 gas alarm",level:"4"},{"id:":114,"activation-time":"2020-02-10 05:13:24","inactivation-time":"2020-03-10 06:30:54",name:"Bx AL GM03 gas alarm",level:"4"}])}),500)}))},fakeGetHistoryAlarms:function(e,t){e.commit,t.dateDay,t.filterRLike,t.offset,t.limit;return new Promise((function(e){setTimeout(e([{time:"2020-03-10 07:13:24",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",description:"Störung kommt"},{time:"2020-03-10 07:13:42",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",description:"Störung ist gegangen"},{time:"2020-03-10 07:13:24",name:"Be AL GM01 gas alarm",description:"Alarm ausgelöst"},{time:"2020-03-10 07:13:42",name:"Be AL GM01 gas alarm",description:"ist gegangen"}]))}))},fakeAcknowledge:function(e,t){e.commit,t.id;return new Promise((function(e){setTimeout(e({id:111,request:"OK",error:"none"}))}))}},getters:{msgError:function(e){return e.msgErr}}},S=x;a["default"].use(r["a"]);var E=function(e){e.subscribe((function(e,t){}))};t["a"]=new r["a"].Store({modules:{dataSource:o,graphicView:f,pointHierarchy:g,amcharts:C,modernWatchList:_,alarms:S},state:{},mutations:{},actions:{},plugins:[E]})},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"491e":function(e,t,n){},"49f8":function(e,t,n){var a={"./de.json":"6ce2","./en.json":"edd4"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="49f8"},"4c6c":function(e,t,n){},"508a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=n("a925");function i(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var r=a[1];t[r]=e(n)}})),t}a["default"].use(r["a"]);var o=new r["a"]({locale:"en",fallbackLocale:"en",messages:i()}),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",[n("input",{staticClass:"nav-sidebar",attrs:{type:"checkbox",id:"check-sidebar"}}),n("label",{staticClass:"nav-sidebar",attrs:{for:"check-sidebar"}},[n("i",{attrs:{id:"btn-sidebar"}},[n("font-awesome-icon",{attrs:{icon:"bars"}})],1),n("i",{attrs:{id:"cancel-sidebar"}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)]),n("div",{staticClass:"sidebar"},[n("logo",[e._v("WebSCADA")]),n("a",{class:{active:"alarms"==e.$route.name},attrs:{href:"#/alarms"}},[n("i",[n("font-awesome-icon",{attrs:{icon:"bell"}})],1),n("span",[e._v("Alarms")])]),n("a",{class:{active:"historical-alarms"==e.$route.name},attrs:{href:"#/historical-alarms"}},[n("i",[n("font-awesome-icon",{attrs:{icon:"file-medical-alt"}})],1),n("span",[e._v("Historical Alarms")])]),n("a",{class:{active:"about"==e.$route.name},attrs:{href:"#/about"}},[n("i",[n("font-awesome-icon",{attrs:{icon:"info"}})],1),n("span",[e._v("About")])]),n("a",{class:{active:"watch_list"==e.$route.name},attrs:{href:"./watch_list.shtm"}},[n("i",[n("font-awesome-icon",{attrs:{icon:"list-alt"}})],1),n("span",[e._v("Watch list")])])],1),n("header",[n("navnui",[n("ul",{staticClass:"navnui-left",attrs:{id:"navigation-left"}},[n("li",[n("a",{attrs:{href:"/watch_list.shtm"}},[e._v("Watch List")])])]),n("ul",{staticClass:"navnui-right"},[n("li",[n("a",{attrs:{href:"#"}},[e._v("My Acount")])]),n("li",{staticStyle:{"font-size":"5px"}},[e._v("v0.0.1.1")])])])],1),n("div",{staticClass:"view"},[n("router-view")],1)])])},l=[],c={name:"app",components:{}},d=c,u=(n("9e9a"),n("2877")),h=n("6544"),p=n.n(h),m=n("7496"),f=Object(u["a"])(d,s,l,!1,null,"5e46284e",null),v=f.exports;p()(f,{VApp:m["a"]});var g=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alarms"},[n("AlarmsComponent")],1)},_=[],w=n("59c1"),y=n.n(w),T=n("421d");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={el:"#alarms",name:"alarms",components:x({AlarmsComponent:T["a"]},y.a),methods:{}},A=E,I=(n("e8e1"),Object(u["a"])(A,b,_,!1,null,"7097d28b",null)),F=I.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v(e._s(e.$t("about")))])])},O=[],k={name:"AboutI18n"},D=k,M=Object(u["a"])(D,P,O,!1,null,null,null),R=M.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"historical-alarms"},[n("HistoricalAlarmsComponent")],1)},j=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"historical-alarms-components"},[n("SimplePanel",[n("datepicker",{ref:"datapicker",class:{input_disabled:1==e.filterOn},staticStyle:{"margin-top":"5px","margin-left":"5px",position:"relative",width:"120px",float:"left","line-height":"30px"},attrs:{format:e.formatter,disabled:1==e.filterOn},model:{value:e.fdate,callback:function(t){e.fdate=t},expression:"fdate"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.frlike,expression:"frlike"}],staticClass:"min-gb-input",class:{input_disabled:1==e.filterOn},staticStyle:{"margin-left":"45px","font-family":"arial, sans-serif"},attrs:{placeholder:"rLike filter",readonly:1==e.filterOn},domProps:{value:e.frlike},on:{input:function(t){t.target.composing||(e.frlike=t.target.value)}}}),n("button",{staticClass:"min-gb-button",class:{filter_on:1==e.filterOn},staticStyle:{"margin-top":"4px"},on:{click:e.onFilter}},[e._v("Filter ")])],1),n("SimpleTable",{attrs:{data:e.historicalAlarms,columns:e.columns}}),n("SimplePanel",[n("div",{staticClass:"pagination"},[n("SimplePagination",{attrs:{"current-page":e.currentPage,"page-count":e.pageCount,"visible-pages-count":8},on:{nextPage:function(t){return e.pageChangeHandle("next")},previousPage:function(t){return e.pageChangeHandle("pref")},loadPage:e.pageChangeHandle}})],1)])],1)},V=[],U=n("4360"),B=n("c1df"),$=n.n(B),H=n("fa33");function W(e){return W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K={el:"#historicalAlarms_component",name:"historicalAlarmsComponent",components:G(G({},y.a),{},{Datepicker:H["a"]}),data:function(){return{filterOn:!1,fdate:new Date,frlike:"",columns:[{name:"time"},{name:"name"},{name:"description"}],historicalAlarms:[],currentPage:1,pageCount:10,FORMAT_DT:"YYYY-MM-DD",RLIKE_NULL:"EMPTY"}},methods:{formatter:function(e){return $()(e).format(this.FORMAT_DT)},getHistoricalAlarms:function(e,t,n,a){var r=this;try{var i="",s=20,l=String(s*(n-1)),c=String(s*n),d=this.RLIKE_NULL;console.log("filterOn: ".concat(this.filterOn," typeof:").concat(W(this.filterOn))),console.log("afilterOn: ".concat(a," typeof:").concat(W(a))),i=0==a?$()(new Date).format(this.FORMAT_DT):void 0===e||null===e||0==e?$()(this.fdate).format(this.FORMAT_DT):$()(e).format(this.FORMAT_DT),d=!1===a||void 0===t||null===t||0===t.trim().length?String(this.RLIKE_NULL):String(t),U["a"].dispatch("getHistoryAlarms",{dateDay:i,filterRLike:d,offset:l,limit:c}).then((function(e){console.log(e);var t=[];e.find((function(e){if(void 0!=e.acknowledgeTime&&""!=e.acknowledgeTime.trim()&&e.acknowledgeTime.length>0){var n={};n.time=e.acknowledgeTime,n.utc=new Date(e.time),2===e.level?n.description=o.t("plcalarms.alarm.acknowledge"):n.description=o.t("plcalarms.fault.acknowledge"),t.push(n)}if(void 0!=e.inactiveTime&&""!=e.inactiveTime.trim()&&e.inactiveTime.length>0){var a={};a.time=e.inactiveTime,a.utc=new Date(e.time),2===e.level?a.description=o.t("plcalarms.alarm.inactive"):a.description=o.t("plcalarms.fault.inactive"),t.push(a)}if(void 0!=e.activeTime&&""!=e.activeTime.trim()&&e.activeTime.length>0){var r={};r.time=e.activeTime,r.utc=new Date(e.time),2===e.level?r.description=o.t("plcalarms.alarm.active"):r.description=o.t("plcalarms.fault.active"),t.push(r)}})),console.log(t),t.sort((function(e,t){return e.utc-t.utc})),console.log(e),r.historicalAlarms=t})).catch((function(e){r.historicalAlarms=[],console.log("getHA:".concat(e))}))}catch(u){this.historicalAlarms=[],console.log("getHA1:".concat(u))}},pageChangeHandle:function(e){try{if("next"===e)return void console.log("pageChangeHandle next");if("pref"===e)return void console.log("pageChangeHandle pref");this.currentPage=Number(e),this.getHistoricalAlarms(this.fdate,this.rlikeFilter,this.currentPage)}catch(t){console.log("pageCH:".concat(t))}},onFilter:function(){this.filterOn=!this.filterOn;try{this.getHistoricalAlarms(this.fdate,this.frlike,this.currentPage,this.filterOn)}catch(e){console.log("created:".concat(e))}}},created:function(){try{this.getHistoricalAlarms(this.fdate,this.frlike,this.currentPage)}catch(e){console.log("created:".concat(e))}},mounted:function(){}},q=K,z=(n("f82d"),Object(u["a"])(q,L,V,!1,null,"6a73d75a",null)),J=z.exports,Z={el:"#alarms",name:"alarms",components:{HistoricalAlarmsComponent:J},methods:{}},Q=Z,ee=(n("95e7"),Object(u["a"])(Q,N,j,!1,null,"015658b6",null)),te=ee.exports;a["default"].use(g["a"]);var ne=new g["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:F},{path:"/about",name:"about",component:R},{path:"/alarms",name:"alarms",component:F},{path:"/historical-alarms",name:"historical-alarms",component:te},{path:"/example-ph",name:"example-ph",component:function(){return n.e("ph").then(n.bind(null,"d522"))}},{path:"/example-test",name:"example-test",component:function(){return n.e("test-component").then(n.bind(null,"752a"))}},{path:"/example-isalive",name:"example-isalive",component:function(){return n.e("isalive-component").then(n.bind(null,"6928"))}},{path:"/example-simple-component-svg",name:"example-simple-component-svg",component:function(){return n.e("simple-component-svg").then(n.bind(null,"b599"))}},{path:"/example-sleep-and-reactivation-ds",name:"example-sleep-and-reactivation-ds",component:function(){return n.e("sleep-and-reactivation-ds-component").then(n.bind(null,"daf4"))}},{path:"/example-cmp",name:"example-cmp",component:function(){return n.e("cmp-component").then(n.bind(null,"ab95"))}},{path:"/calendar",name:"calendar",component:function(){return Promise.resolve().then(n.bind(null,"5b5f"))}},{path:"/example-chart-cmp",name:"example-chart-cmp",component:function(){return n.e("example-chart-cmp").then(n.bind(null,"94ff"))}},{path:"/example-step-line-chart-cmp",name:"example-step-line-chart-cmp",component:function(){return n.e("step-line-chart-component").then(n.bind(null,"3a20"))}},{path:"/example-live-alarms",name:"example-live-alarms",component:function(){return n.e("live-alarms-component").then(n.bind(null,"33a6"))}}]}),ae=n("a44f"),re=n("00e7"),ie=n.n(re),oe=n("85ff"),se=n.n(oe),le=(n("ab8b"),n("864c")),ce=n("d08a"),de=n("ae1b"),ue=n("42d3"),he=n("c0af"),pe=n("f1e7"),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scada-widget"},[n("div",{staticClass:"settings"},[n("p",{staticClass:"smallTitle"},[e._v("Modern Chart")]),n("div",[n("btn",{staticClass:"dropdown-toggle",on:{click:function(t){return e.addNewChart()}}},[e._v("Add chart "),n("i",{staticClass:"glyphicon glyphicon-plus"})])],1)]),n("div",{staticClass:"chart-container"},e._l(e.charts,(function(t){return n("watch-list-chart",{key:t.id,attrs:{chartdata:t},on:{saved:function(n){return e.chartEdited(t)},deleted:function(n){return e.deleted(t)}}})})),1)])},fe=[],ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-container"},[n("div",{staticClass:"flex-row"},[n("div",{staticClass:"flex-row flex-grow-2"},[n("div",[n("btn-group",[n("btn",{attrs:{"input-type":"radio","input-value":"live"},model:{value:e.chartSettings.chartType,callback:function(t){e.$set(e.chartSettings,"chartType",t)},expression:"chartSettings.chartType"}},[e._v("Live chart")]),n("btn",{attrs:{"input-type":"radio","input-value":"static"},model:{value:e.chartSettings.chartType,callback:function(t){e.$set(e.chartSettings,"chartType",t)},expression:"chartSettings.chartType"}},[e._v("Static chart")])],1)],1),n("div",{staticClass:"flex-row flex-grow-2"},["live"===e.chartSettings.chartType?n("div",{staticClass:"flex-row flex-grow-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.startTime,expression:"chartSettings.startTime"}],staticClass:"form-control",attrs:{type:"number",id:"live-sd",placeholder:"Values from last...",min:"1",max:"4"},domProps:{value:e.chartSettings.startTime},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"startTime",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.startTimeMultiplier,expression:"chartSettings.startTimeMultiplier"}],staticClass:"form-control",attrs:{id:"live-rrs"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.chartSettings,"startTimeMultiplier",t.target.multiple?n:n[0])}}},e._l(e.timeOptions,(function(t){return n("option",{key:t.id,domProps:{value:t.value}},[e._v(e._s(t.text))])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.refreshRate,expression:"chartSettings.refreshRate"}],staticClass:"form-control",attrs:{id:"live-rr"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.chartSettings,"refreshRate",t.target.multiple?n:n[0])}}},e._l(e.performanceOptions,(function(t){return n("option",{key:t.id,domProps:{value:t.value}},[e._v(e._s(t.text))])})),0)]):e._e(),"static"===e.chartSettings.chartType?n("div",{staticClass:"flex-row"},[n("div",{staticClass:"flex-row flex-align-center"},[n("label",{staticClass:"small-padd",attrs:{for:"static-sd"}},[e._v("Start Date")]),n("dropdown",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.startDate,expression:"chartSettings.startDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.chartSettings.startDate},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"startDate",t.target.value)}}}),n("div",{staticClass:"input-group-btn"},[n("btn",{staticClass:"dropdown-toggle"},[n("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),n("template",{slot:"dropdown"},[n("li",[n("date-picker",{attrs:{format:"yyyy/MM/dd","week-starts-with":1},model:{value:e.chartSettings.startDate,callback:function(t){e.$set(e.chartSettings,"startDate",t)},expression:"chartSettings.startDate"}})],1)])],2),n("dropdown",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-btn"},[n("btn",{staticClass:"dropdown-toggle"},[n("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),n("template",{slot:"dropdown"},[n("li",{staticStyle:{padding:"10px"}},[n("time-picker",{attrs:{"show-meridian":!1},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)])],2)],1),n("div",{staticClass:"flex-row flex-align-center"},[n("label",{staticClass:"small-padd",attrs:{for:"static-ed"}},[e._v("End Date")]),n("dropdown",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.endDate,expression:"chartSettings.endDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.chartSettings.endDate},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"endDate",t.target.value)}}}),n("div",{staticClass:"input-group-btn"},[n("btn",{staticClass:"dropdown-toggle"},[n("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),n("template",{slot:"dropdown"},[n("li",[n("date-picker",{attrs:{format:"yyyy/MM/dd","week-starts-with":1},model:{value:e.chartSettings.endDate,callback:function(t){e.$set(e.chartSettings,"endDate",t)},expression:"chartSettings.endDate"}})],1)])],2),n("dropdown",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-btn"},[n("btn",{staticClass:"dropdown-toggle"},[n("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),n("template",{slot:"dropdown"},[n("li",{staticStyle:{padding:"10px"}},[n("time-picker",{attrs:{"show-meridian":!1},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)])],2)],1)]):e._e()]),n("p",{staticClass:"smallTitle chart-title"},[e._v(e._s(e.chartSettings.chartLabel))]),n("btn",{staticClass:"dropdown-toggle",on:{click:function(t){return e.updateSettings()}}},[n("i",{staticClass:"glyphicon glyphicon-refresh"})]),n("btn",{staticClass:"dropdown-toggle",on:{click:function(t){return e.showSettings()}}},[n("i",{staticClass:"glyphicon glyphicon-cog"})]),n("btn",{staticClass:"dropdown-toggle",on:{click:function(t){return e.deleteChart()}}},[n("i",{staticClass:"glyphicon glyphicon-trash"})])],1)]),n("section",[n("modal",{ref:"modal",attrs:{title:"Chart settings",id:"modal-demo",size:"sm",backdrop:!1},on:{hide:e.callback},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("form",{staticClass:"form-inline"},[n("btn-group",{staticClass:"flex-row flex-content-center"},[n("btn",{attrs:{"input-type":"radio","input-value":"stepLine"},model:{value:e.chartSettings.lineChart,callback:function(t){e.$set(e.chartSettings,"lineChart",t)},expression:"chartSettings.lineChart"}},[e._v("Step line chart")]),n("btn",{attrs:{"input-type":"radio","input-value":"line"},model:{value:e.chartSettings.lineChart,callback:function(t){e.$set(e.chartSettings,"lineChart",t)},expression:"chartSettings.lineChart"}},[e._v("Line chart")])],1),n("hr"),n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-label"}},[e._v("Chart title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.chartLabel,expression:"chartSettings.chartLabel"}],staticClass:"form-control",attrs:{type:"text",id:"chart-label"},domProps:{value:e.chartSettings.chartLabel},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"chartLabel",t.target.value)}}})]),n("hr"),n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-color"}},[e._v("Chart color")]),n("ColorPicker",{attrs:{width:100,height:100,startColor:"#39B54A"},model:{value:e.chartSettings.chartColor,callback:function(t){e.$set(e.chartSettings,"chartColor",t)},expression:"chartSettings.chartColor"}})],1),n("hr"),n("div",{staticClass:"flex-container"},[n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-rv"}},[e._v("Range value")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.rangeValue,expression:"chartSettings.rangeValue"}],staticClass:"form-control",attrs:{type:"text",id:"chart-rv"},domProps:{value:e.chartSettings.rangeValue},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"rangeValue",t.target.value)}}})]),e.chartSettings.rangeValue?n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-rc"}},[e._v("Range color")]),n("ColorPicker",{attrs:{width:100,height:100,startColor:"#ff0000"},model:{value:e.chartSettings.rangeColor,callback:function(t){e.$set(e.chartSettings,"rangeColor",t)},expression:"chartSettings.rangeColor"}})],1):e._e(),e.chartSettings.rangeValue?n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-rl"}},[e._v("Range label")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.rangeLabel,expression:"chartSettings.rangeLabel"}],staticClass:"form-control",attrs:{type:"text",id:"chart-rl"},domProps:{value:e.chartSettings.rangeLabel},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"rangeLabel",t.target.value)}}})]):e._e()]),n("hr"),n("div",{staticClass:"flex-container"},[n("label",{attrs:{for:"chart-height"}},[e._v("Chart heigh")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.chartSettings.height,expression:"chartSettings.height"}],staticClass:"form-control",attrs:{type:"number",id:"chart-height"},domProps:{value:e.chartSettings.height},on:{input:function(t){t.target.composing||e.$set(e.chartSettings,"height",t.target.value)}}})])],1)])],1),e.renderChart?n("div",["line"==e.chartdata.lineChart?n("line-chart",{ref:"line_child",attrs:{"point-id":e.chartdata.pointId,label:"","start-date":e.chartdata.startDate,"end-date":e.chartdata.endDate,"refresh-rate":e.chartdata.refreshRate,color:e.chartdata.chartColor,"range-value":e.chartdata.rangeValue,"range-color":e.chartdata.rangeColor,"range-label":e.chartdata.rangeLabel,"show-scrollbar-x":e.chartdata.showScrollbarX,"show-scrollbar-y":e.chartdata.showScrollbarY,"show-legend":e.chartdata.showLegend,height:e.chartdata.height}}):e._e(),"stepLine"==e.chartdata.lineChart?n("step-line-chart",{ref:"step_line_child",attrs:{"point-id":e.chartdata.pointId,label:"","start-date":e.chartdata.startDate,"end-date":e.chartdata.endDate,"refresh-rate":e.chartdata.refreshRate,color:e.chartdata.chartColor,"range-value":e.chartdata.rangeValue,"range-color":e.chartdata.rangeColor,"range-label":e.chartdata.rangeLabel,"show-scrollbar-x":e.chartdata.showScrollbarX,"show-scrollbar-y":e.chartdata.showScrollbarY,"show-legend":e.chartdata.showLegend,height:e.chartdata.height,"show-debug":e.chartdata.debug}}):e._e()],1):e._e()])},ge=[],be=(n("bc3a"),n("07e3")),_e=n("d2c6"),we=n("1e8a"),ye={name:"WatchListChart",components:{StepLineChart:be["a"],LineChart:_e["a"],Datepicker:H["a"],ColorPicker:we["a"]},props:["chartdata"],data:function(){return{open:!1,pointId:void 0,chartSettings:{lineChart:"stepLine",chartType:"live"},points:[],renderChart:!0,showModal:!1,performanceOptions:[{id:0,text:"Update every 1 second",value:1e3},{id:1,text:"Update every 2 seconds",value:2e3},{id:2,text:"Update every 5 seconds",value:5e3},{id:3,text:"Update every 10 seconds",value:1e4}],timeOptions:[{id:0,text:"Hour(s)",value:"hour"},{id:1,text:"Day(s)",value:"day"},{id:2,text:"Weak(s)",value:"weak"},{id:3,text:"Month(s)",value:"month"}],startTime:new Date,endTime:new Date}},mounted:function(){this.showChart(),this.chartSettings=this.chartdata},methods:{getPointIds:function(){this.points=[];for(var e=document.getElementById("watchListTable"),t=0;t<e.childElementCount;t++){var n=e.children.item(t).id;document.getElementById("".concat(n,"ChartCB")).checked&&this.points.push(n.slice(1))}this.chartdata.pointId=this.points.toString()},callback:function(e){"ok"===e?this.updateSettings():this.cancelSettings()},updateSettings:function(){var e=this;this.renderChart=!1,this.chartSettings=this.chartdata,"static"==this.chartSettings.chartType?(this.chartSettings.refreshRate=void 0,this.chartSettings.startDate="".concat(this.chartSettings.startDate.substring(0,10)," ").concat(this.startTime.getHours(),":").concat(this.startTime.getMinutes()),this.chartSettings.endDate="".concat(this.chartSettings.endDate.substring(0,10)," ").concat(this.endTime.getHours(),":").concat(this.endTime.getMinutes())):(this.chartSettings.endDate=void 0,this.chartSettings.startDate="".concat(this.chartdata.startTime,"-").concat(this.chartdata.startTimeMultiplier)),"#3973b5"!=this.chartSettings.chartColor&&"#39B54A"!=this.chartSettings.chartColor||(this.chartSettings.chartColor=void 0),"DEBUG_CHART"==this.chartSettings.rangeLabel&&(this.chartSettings.debug=!0),this.chartdata=this.chartSettings,setTimeout((function(){e.renderChart=!0}),1e3),this.$emit("saved",this.chartdata)},showChart:function(){this.renderChart=!0},showSettings:function(){this.chartSettings=this.chartdata,this.open=!0,this.renderChart=!1},cancelSettings:function(){"#3973b5"!=this.chartdata.chartColor&&"#39B54A"!=this.chartdata.chartColor||(this.chartdata.chartColor=void 0),this.showModal=!1,this.renderChart=!0},saveSettings:function(){"static"==this.chartSettings.chartType?this.chartSettings.refreshRate=void 0:(this.chartSettings.endDate=void 0,this.chartSettings.startDate="".concat(this.chartdata.startTime,"-").concat(this.chartdata.startTimeMultiplier)),"#3973b5"!=this.chartSettings.chartColor&&"#39B54A"!=this.chartSettings.chartColor||(this.chartSettings.chartColor=void 0),"DEBUG_CHART"==this.chartSettings.rangeLabel&&(this.chartSettings.debug=!0),this.chartdata=this.chartSettings,this.showModal=!1,this.renderChart=!0,this.$emit("saved",this.chartdata)},deleteChart:function(){this.$emit("deleted",this.chartdata)}}},Te=ye,Ce=(n("e815"),Object(u["a"])(Te,ve,ge,!1,null,"32a86cea",null)),xe=Ce.exports,Se={name:"WatchListChartWidget",components:{WatchListChart:xe},computed:{charts:function(){return this.$store.getters.getCharts},chartId:function(){return this.$store.getters.getNextChartId}},mounted:function(){this.$store.commit("loadActiveUser"),this.$store.commit("loadCharts")},methods:{addNewChart:function(){this.$store.commit("incrementChartId");for(var e={id:this.chartId,pointId:void 0,chartLabel:void 0,chartColor:void 0,startDate:"1-hour",startTime:1,startTimeMultiplier:"hour",endDate:void 0,refreshRate:"2000",rangeValue:void 0,rangeColor:void 0,rangeLabel:void 0,showScrollBarX:!0,showScrollBarY:!1,showLegend:!0,debug:void 0,lineChart:"stepLine",chartType:"live",height:350},t=[],n=document.getElementById("watchListTable"),a=0;a<n.childElementCount;a++){var r=n.children.item(a).id;document.getElementById("".concat(r,"ChartCB")).checked&&t.push(r.slice(1))}e.pointId=t.toString(),e.chartLabel=document.getElementById("newWatchListName").value,this.$store.commit("addChart",e)},chartEdited:function(e){this.$store.commit("editChart",e)},deleted:function(e){this.$store.commit("deleteChart",e)}}},Ee=Se,Ae=(n("8857"),Object(u["a"])(Ee,me,fe,!1,null,"29f4dec6",null)),Ie=Ae.exports,Fe=n("5b5f"),Pe=n("d324"),Oe=n("415c"),ke=n.n(Oe),De=n("ad3d"),Me=n("ecee"),Re=n("c074"),Ne=n("f309");a["default"].use(Ne["a"]);var je=new Ne["a"]({});function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Me["c"].add(Re["d"],Re["h"],Re["a"],Re["b"],Re["e"],Re["f"],Re["g"],Re["c"]),a["default"].component("font-awesome-icon",De["a"]);var Be=!0,$e={isEnabled:!0,logLevel:Be?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};a["default"].use(se.a,$e);var He={name:"lodash"};a["default"].use(ke.a,He),a["default"].use(ae),a["default"].use(ie.a),a["default"].config.devtools=!0,void 0!=window.document.getElementById("app")&&new a["default"]({i18n:o,router:ne,store:U["a"],vuetify:je,render:function(e){return e(v)}}).$mount("#app"),void 0!=window.document.getElementById("app-test")&&new a["default"]({render:function(e){return e(le["a"],{props:{plabel:window.document.getElementById("app-test").getAttribute("plabel")}})}}).$mount("#app-test"),void 0!=window.document.getElementById("app-isalive")&&new a["default"]({i18n:o,store:U["a"],render:function(e){return e(ce["a"],{props:{plabel:window.document.getElementById("app-isalive").getAttribute("plabel"),ptimeWarning:window.document.getElementById("app-isalive").getAttribute("ptime-warning"),ptimeError:window.document.getElementById("app-isalive").getAttribute("ptime-error"),ptimeRefresh:window.document.getElementById("app-isalive").getAttribute("ptime-refresh")}})}}).$mount("#app-isalive");for(var We=function(e){var t="app-cmp-".concat(e);void 0!=window.document.getElementById(t)&&new a["default"]({i18n:o,render:function(e){return e(de["a"],{store:U["a"],props:{pLabel:window.document.getElementById(t).getAttribute("plabel"),pTimeRefresh:window.document.getElementById(t).getAttribute("ptimeRefresh"),pConfig:window.document.getElementById(t).getAttribute("pconfig"),pxIdViewAndIdCmp:window.document.getElementById(t).getAttribute("pxIdViewAndIdCmp")}})}}).$mount("#"+t)},Ye=0;Ye<20;Ye++)We(Ye);void 0!=window.document.getElementById("simple-component-svg")&&new a["default"]({i18n:o,render:function(e){return e(ue["a"],{props:{pxidPoint:window.document.getElementById("simple-component-svg").getAttribute("pxidPoint"),ptimeRefresh:window.document.getElementById("simple-component-svg").getAttribute("ptimeRefresh"),plabel:window.document.getElementById("simple-component-svg").getAttribute("plabel"),pvalue:window.document.getElementById("simple-component-svg").getAttribute("pvalue")}})}}).$mount("#simple-component-svg"),void 0!=window.document.getElementById("sleep-reactivation-ds")&&new a["default"]({i18n:o,render:function(e){return e(pe["a"])}}).$mount("#sleep-reactivation-ds"),void 0!=window.document.getElementById("export-import-ph")&&new a["default"]({i18n:o,render:function(e){return e(he["a"])}}).$mount("#export-import-ph"),void 0!=window.document.getElementById("example-chart-cmp")&&new a["default"]({i18n:o,store:U["a"],render:function(e){return e(Ie)}}).$mount("#example-chart-cmp"),window.initCalendar=function(e,t){t.calendarValues=Pe,window.vueComponents||(window.vueComponents=[]),window.vueComponents.push(new a["default"]({i18n:o,store:U["a"],vuetify:je,el:"#c"+e+"ContentBody",render:function(n){return n(Fe["default"],{props:Ve({componentId:e},t)})}}))};for(var Ge=function(e){var t="chart-step-line-".concat(e);void 0!=window.document.getElementById(t)&&new a["default"]({i18n:o,render:function(e){return e(be["a"],{props:{pointId:window.document.getElementById(t).getAttribute("point-id"),pointXid:window.document.getElementById(t).getAttribute("point-xid"),color:window.document.getElementById(t).getAttribute("color"),label:window.document.getElementById(t).getAttribute("label"),startDate:window.document.getElementById(t).getAttribute("start-date"),endDate:window.document.getElementById(t).getAttribute("end-date"),refreshRate:window.document.getElementById(t).getAttribute("refresh-rate"),width:window.document.getElementById(t).getAttribute("width"),height:window.document.getElementById(t).getAttribute("height"),polylineStep:window.document.getElementById(t).getAttribute("polyline-step"),rangeValue:window.document.getElementById(t).getAttribute("range-value"),rangeColor:window.document.getElementById(t).getAttribute("range-color"),rangeLabel:window.document.getElementById(t).getAttribute("range-label"),showScrollbarX:window.document.getElementById(t).getAttribute("show-scrollbar-x"),showScrollbarY:window.document.getElementById(t).getAttribute("show-scrollbar-y"),showLegend:window.document.getElementById(t).getAttribute("show-legned")}})}}).$mount("#".concat(t))},Xe=0;Xe<10;Xe++)Ge(Xe);for(var Ke=function(e){var t="chart-line-".concat(e);void 0!=window.document.getElementById(t)&&new a["default"]({i18n:o,render:function(e){return e(_e["a"],{props:{pointId:window.document.getElementById(t).getAttribute("point-id"),pointXid:window.document.getElementById(t).getAttribute("point-xid"),color:window.document.getElementById(t).getAttribute("color"),label:window.document.getElementById(t).getAttribute("label"),startDate:window.document.getElementById(t).getAttribute("start-date"),endDate:window.document.getElementById(t).getAttribute("end-date"),refreshRate:window.document.getElementById(t).getAttribute("refresh-rate"),width:window.document.getElementById(t).getAttribute("width"),height:window.document.getElementById(t).getAttribute("height"),polylineStep:window.document.getElementById(t).getAttribute("polyline-step"),rangeValue:window.document.getElementById(t).getAttribute("range-value"),rangeColor:window.document.getElementById(t).getAttribute("range-color"),rangeLabel:window.document.getElementById(t).getAttribute("range-label"),showScrollbarX:window.document.getElementById(t).getAttribute("show-scrollbar-x"),showScrollbarY:window.document.getElementById(t).getAttribute("show-scrollbar-y"),showLegend:window.document.getElementById(t).getAttribute("show-legned")}})}}).$mount("#".concat(t))},qe=0;qe<10;qe++)Ke(qe);void 0!=window.document.getElementById("live-alarms")&&(console.log("test+ ".concat(window.document.getElementById("live-alarms").getAttribute("show-acknowledge-btn"))),new a["default"]({i18n:o,store:U["a"],render:function(e){return e(T["a"],{props:{pShowAcknowledgeBtn:window.document.getElementById("live-alarms").getAttribute("show-acknowledge-btn"),pShowMainToolbar:window.document.getElementById("live-alarms").getAttribute("show-main-toolbar"),pShowSelectToAcknowledge:window.document.getElementById("live-alarms").getAttribute("show-select-to-acknowledge"),pShowPagination:window.document.getElementById("live-alarms").getAttribute("show-pagination"),pMaximumNumbersOfRows:window.document.getElementById("live-alarms").getAttribute("max-number-of-rows")}})}}).$mount("#live-alarms"))},"586d":function(e,t,n){"use strict";var a=n("4c6c"),r=n.n(a);r.a},"59a1":function(e,t,n){},"5b5f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{ref:"app"},[n("v-expansion-panels",{attrs:{multiple:"",hover:""},on:{change:e.toggleCollapsed},model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[n("v-expansion-panel",[n("v-expansion-panel-header",[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"auto"}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-calendar")]),e._v(e._s(e.settings.calendarName)+" ")],1),n("v-col",{attrs:{cols:"auto"}},[(e.editEnabled&&e.showSettings||!e.settings.viewOnly&&!e.readOnly)&&(e.expanded.length>0||e.changed)?n("v-container",[n("v-btn",{staticClass:"mr-2",attrs:{xSmall:"",color:"primary",disabled:!e.changed||e.busy},on:{click:function(t){return t.stopPropagation(),e.apply(t)}}},[e._v(" "+e._s(e.$t("calendar.apply"))+" "),e.busy?e._e():n("v-icon",{attrs:{right:""}},[e._v("mdi-check")]),e.busy?n("v-icon",{attrs:{right:""}},[e._v("mdi-alarm-check")]):e._e()],1),n("v-btn",{staticClass:"mr-2",attrs:{xSmall:"",color:"error",disabled:!e.changed||e.busy},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v(" "+e._s(e.$t("calendar.cancel"))+" "),e.busy?e._e():n("v-icon",{attrs:{right:""}},[e._v("mdi-window-close")]),e.busy?n("v-icon",{attrs:{right:""}},[e._v("mdi-alarm-check")]):e._e()],1)],1):e._e()],1),n("v-col",{attrs:{cols:"auto"}},[e.editEnabled?n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleSettings(t)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-cog")])],1):e._e()],1)],1)],1),n("v-expansion-panel-content",{attrs:{id:"c"+e.componentId+"-calendar-body"}},[e.error||e.showSettings?e._e():n("v-toolbar",{attrs:{flat:"",color:"white",dense:""}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" "+e._s(e.$t("calendar.today"))+" ")]),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),n("v-toolbar-title",{staticClass:"mr-4"},[e._v(" "+e._s(e.getMonth())+" ")]),e.showCalendarTypes?n("v-menu",{attrs:{attach:"#c"+e.componentId+"-calendar-body"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),a),[n("span",[e._v(e._s(e.calendarTypeOptions[e.settings.calendarType]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}],null,!1,343274127)},[n("v-list",e._l(e.calendarTypeOptions,(function(t,a){return n("v-list-item",{key:a,on:{click:function(t){return e.changeType(a)}}},[n("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1):e._e()],1),n("v-main",[e.showSettings?n("v-form",{ref:"form"},[n("v-select",{attrs:{attach:"#c"+e.componentId+"-calendar-body",items:e.datasources,rules:[function(e){return!!e},function(t){return t!==e.$t("calendar.datasourceRequired")}],label:e.$t("calendar.datasource")},on:{change:e.updateChanged},model:{value:e.settings.dataSourceId,callback:function(t){e.$set(e.settings,"dataSourceId",t)},expression:"settings.dataSourceId"}}),n("v-text-field",{attrs:{label:e.$t("calendar.name"),rules:[function(e){return""!==e}]},on:{input:e.updateChanged},model:{value:e.settings.calendarName,callback:function(t){e.$set(e.settings,"calendarName",t)},expression:"settings.calendarName"}}),n("v-text-field",{attrs:{label:e.$t("calendar.calendarPrefix"),hint:e.$t("calendar.prefix"),rules:[function(e){return""!==e}]},on:{input:e.updateChanged},model:{value:e.settings.calendarPrefix,callback:function(t){e.$set(e.settings,"calendarPrefix",t)},expression:"settings.calendarPrefix"}}),n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-menu",{attrs:{attach:"#c"+e.componentId+"-calendar-body"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),a),[n("span",[e._v(e._s(e.calendarTypeOptions[e.settings.calendarType]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}],null,!1,343274127)},[n("v-list",e._l(e.calendarTypeOptions,(function(t,a){return n("v-list-item",{key:a,on:{change:e.updateChanged,click:function(t){e.settings.calendarType=a}}},[n("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1)],1),n("v-col",{attrs:{cols:"auto"}},[n("v-label",{staticClass:"text-subtitle-2",attrs:{light:""}},[e._v(e._s(e.$t("calendar.type")))])],1)],1),n("v-checkbox",{attrs:{label:e.$t("calendar.viewOnly")},on:{change:e.updateChanged},model:{value:e.settings.viewOnly,callback:function(t){e.$set(e.settings,"viewOnly",t)},expression:"settings.viewOnly"}}),n("v-checkbox",{attrs:{label:e.$t("calendar.showCalendarTypes")},on:{change:e.updateChanged},model:{value:e.settings.showCalendarTypes,callback:function(t){e.$set(e.settings,"showCalendarTypes",t)},expression:"settings.showCalendarTypes"}}),n("v-checkbox",{attrs:{label:e.$t("calendar.globalCalendar")},on:{change:e.updateChanged},model:{value:e.settings.globalCalendar,callback:function(t){e.$set(e.settings,"globalCalendar",t)},expression:"settings.globalCalendar"}}),e.settings.globalCalendar?e._e():n("v-checkbox",{attrs:{label:e.$t("calendar.showMaster")},on:{change:e.updateChanged},model:{value:e.settings.showMaster,callback:function(t){e.$set(e.settings,"showMaster",t)},expression:"settings.showMaster"}}),!e.settings.globalCalendar&&e.settings.showMaster?n("v-text-field",{attrs:{label:e.$t("calendar.masterPrefix"),placeholder:e.$t("calendar.prefix"),rules:[function(e){return""!==e}]},on:{input:e.updateChanged},model:{value:e.settings.masterPrefix,callback:function(t){e.$set(e.settings,"masterPrefix",t)},expression:"settings.masterPrefix"}}):e._e(),n("v-checkbox",{attrs:{label:e.$t("calendar.collapsed")},on:{change:e.updateChanged},model:{value:e.settings.collapsed,callback:function(t){e.$set(e.settings,"collapsed",t)},expression:"settings.collapsed"}}),n("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.remove()}}},[e._v(" "+e._s(e.$t("calendar.remove"))+" "),n("v-icon",{attrs:{right:""}},[e._v("mdi-delete")])],1)],1):e.error?e._e():n("v-calendar",{ref:"calendar",staticStyle:{height:"480px"},attrs:{weekdays:e.weekday,color:"primary",type:e.settings.calendarType,events:e.events,"event-color":"#FFFFFF00","event-timed":e.getTimed,"event-ripple":!1,title:""},on:{"click:event":e.eventClick,"mousedown:event":e.startDrag,"mousedown:time":e.startTime,"mousemove:time":e.mouseMove,"mouseup:time":e.endDrag,"click:day":e.addDayEvent,"click:date":e.addOneEvent},nativeOn:{mouseleave:function(t){return e.cancelDrag(t)}},scopedSlots:e._u([{key:"day-body",fn:function(t){var a=t.date,r=t.week;return[n("div",{staticClass:"v-current-time",class:{first:a===r[0].date},style:{top:e.nowY()}})]}},{key:"event",fn:function(t){var a=t.event;return[n("v-tooltip",{attrs:{absolute:"",attach:"#c"+e.componentId+"-calendar-body"},scopedSlots:e._u(["month"!==e.settings.calendarType?{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-card",e._g(e._b({staticClass:"d-flex flex-column align-items-stretch",staticStyle:{height:"100%"},style:{background:e.getEventColor(a)},attrs:{onselectstart:"return false",outlined:""},on:{click:function(t){return e.showMenu(a,t)}}},"v-card",i,!1),r),[n("span",{staticClass:"text-small ma-0 pa-1",class:{"calendar-text-disabled":e.checkEventDisabled(a)}},[e._v(e._s(e.getHint(a)))]),e.checkEventDisabled(a)||"month"===e.settings.calendarType?e._e():n("div",{staticClass:"v-event-drag-bottom d-flex justify-center",on:{mousedown:function(t){return t.stopPropagation(),e.extendBottom(a,t)}}},[n("v-icon",{staticClass:"elevation-2",attrs:{dark:""}},[e._v("mdi-drag-horizontal")])],1)])]}}:{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-card",e._g(e._b({staticClass:"d-flex flex-column align-items-stretch",staticStyle:{height:"100%"},style:{background:e.getEventColor(a)},attrs:{outlined:""},on:{click:function(t){return e.showMenu(a,t)}}},"v-card",i,!1),r),[e._v(" "+e._s(a.master?"(G.C.)":"")+" ")])]}}],null,!0)},[n("span",[e._v(e._s(e.getHint(a)))])]),n("v-menu",{attrs:{auto:""},model:{value:e.menuVisible,callback:function(t){e.menuVisible=t},expression:"menuVisible"}},[n("v-list",{attrs:{dense:""}},[n("v-subheader",[e._v(e._s(e.$t("calendar.shows")))]),n("v-list-item",{attrs:{ripple:""},on:{click:function(t){return e.deleteEvent(e.selectedEvent,t)}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-delete")])],1),n("v-list-item-title",[e._v(e._s(e.$t("calendar.remove")))])],1),e.selectedEvent?n("v-list-item-group",{attrs:{color:"primary"},on:{change:e.selectShow}},e._l(e.calendarValues.shows,(function(t){return n("v-list-item",{key:t.value,attrs:{ripple:""}},[n("v-list-item-icon",[n("div",{staticStyle:{width:"20px","border-radius":"3px"},style:{background:e.getEventColor(t)}})]),n("v-list-item-title",[e._v(e._s(t.text))])],1)})),1):e._e()],1)],1)]}}]),model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}),n("br"),e.error?n("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1)],1)],1)],1)],1)},r=[],i=n("a34a"),o=n.n(i),s=n("bc3a"),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){h(i,a,r,o,s,"next",e)}function s(e){h(i,a,r,o,s,"throw",e)}o(void 0)}))}}var m=15,f="-start-",v="-end-",g="-value-",b="DEFAULT",_={name:"CalendarComponent",props:{calendarName:{type:String,default:"Calendar"},componentId:{type:Number,required:!1},calendarPrefix:{type:String,default:"schedule"},collapsed:{type:Boolean,default:!1},viewOnly:{type:Boolean,default:!0},showMaster:{type:Boolean,default:!1},showCalendarTypes:{type:Boolean,default:!0},globalCalendar:{type:Boolean,default:!1},masterPrefix:{type:String,default:"master"},dataSourceId:{type:Number},calendarValues:{type:Object,required:!0},calendarType:{type:String,default:"month"}},beforeMount:function(){var e=this;return p(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.currentSettings=e.deepCopyObject(e.$props),e.settings=e.deepCopyObject(e.$props),e.editEnabled=window.location.pathname.includes("view_edit"),e.expanded=e.settings.collapsed?[]:[0],e.server=window.location.origin,t.next=12;break;case 10:t.next=13;break;case 12:e.server+=location.pathname.substr(0,location.pathname.lastIndexOf("/"));case 13:return t.next=15,l.a.get("".concat(e.server,"/api/datasource/getAll"),{withCredentials:!0});case 15:if(n=t.sent,e.datasources=e.datasources.concat(n.data.map((function(e){return{text:e.name,value:e.id,permission:e.permission}}))),a=e.datasources.find((function(t){return t.value===e.settings.dataSourceId})),!a&&e.datasources.length>0&&(a=e.datasources[0],e.settings.dataSourceId=e.datasources[0].value,e.changed=!0),!a){t.next=23;break}return e.readOnly=a.permission<2,t.next=23,e.getSchedule();case 23:e.events.length>0&&(e.selectedEvent=e.events[0]),t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](0),e.handleError(t.t0);case 29:case"end":return t.stop()}}),t,null,[[0,26]])})))()},mounted:function(){this.toggleCollapsed()},beforeUpdate:function(){this.timeInterval||(this.scrollToTime(),this.updateTimes())},data:function(){return{currentDate:"",expanded:[0],datasources:[],currentEvents:[],events:[],calendarTypeOptions:{"4day":this.$i18n.t("calendar.4days"),day:this.$i18n.t("calendar.day"),month:this.$i18n.t("calendar.month"),week:this.$i18n.t("calendar.week")},changed:!1,showSettings:!1,selectedEvent:void 0,editEnabled:!0,weekday:[0,1,2,3,4,5,6],disabled:!1,busy:!1,error:!1,server:"",status:"",menuVisible:!1,settings:{},currentSettings:{},readOnly:!0,dragEvent:null,dragStart:null,createEvent:null,createStart:null,extendOriginal:null,rendered:!1}},methods:{deepCopyObject:function(e){return JSON.parse(JSON.stringify(e))},changeType:function(e){this.settings.calendarType=e,this.scrollToTime()},getMonth:function(){return this.$refs.calendar?this.$refs.calendar.title:""},showMenu:function(e,t){this.selectedEvent=e,this.checkEventDisabled(e)||this.dragging||(this.menuVisible=!0),t.stopPropagation()},eventClick:function(e){e.nativeEvent.stopPropagation()},handleError:function(e,t){console.log(e),this.busy=!1,e.response&&t?this.error=t:e.response?e.response.data?this.error=this.$t("calendar.error",{status:"".concat(e.response.data.localizedMessage," (code: ").concat(e.response.status,")"),server:this.server}):this.error=this.$t("calendar.error",{status:"(code: ".concat(e.response.status,")"),server:this.server}):e.request?this.error=this.$t("calendar.error",{status:"(Connection Refused)",server:this.server}):this.error=this.$t("calendar.error",{status:"(code: ".concat(e.message,")"),server:this.server})},handleDnD:function(e){e.stopPropagation()},nowY:function(){return this.$refs.calendar?this.$refs.calendar.$children.find((function(e){return e.timeToY})).timeToY(this.$refs.calendar.times.now)+"px":"-10px"},toggleCollapsed:function(){var e=document.querySelector("#c"+this.componentId);e&&(this.left||(this.left=e.style.left,this.top=e.style.top),this.expanded.length>0?(this.left=e.style.left,this.top=e.style.top,e.classList.remove("calendar-collapsed"),e.classList.add("calendar-expanded"),this.$refs.app.$el.addEventListener("mousedown",this.handleDnD)):(e.style.left=this.left,e.style.top=this.top,e.classList.remove("calendar-expanded"),e.classList.add("calendar-collapsed"),this.editEnabled&&window.addDnD&&window.addDnD("c"+this.componentId),this.$refs.app.$el.removeEventListener("mousedown",this.handleDnD)))},addDayEvent:function(e){if(!this.checkDisabled()&&!e.past){var t=Date.parse(e.date+"T00:00:00"),n=Date.parse(e.date+"T23:59:59");this.events.push({start:t,end:n,value:this.settings.calendarValues.shows.find((function(e){return e.text===b})).value}),this.changed=!0}},addOneEvent:function(e){if(!(this.checkDisabled()||e.past||this.events.find((function(t){return!t.readOnly&&t.start>=Date.parse(e.date+"T00:00:00")&&t.end<=Date.parse(e.date+"T23:59:59")})))){var t=Date.parse(e.date+"T00:00:00"),n=Date.parse(e.date+"T23:59:59");this.events.push({start:t,end:n,value:this.settings.calendarValues.shows.find((function(e){return e.text===b})).value}),this.changed=!0}},selectShow:function(e){this.selectedEvent.value=this.settings.calendarValues.shows[e].value,this.updateChanged()},updateChanged:function(){this.changed=!0},remove:function(){window.deleteViewComponent&&window.deleteViewComponent(this.componentId),this.$el.remove()},checkEventDisabled:function(e){return this.checkDisabled()||e.viewOnly},checkDisabled:function(){return this.disabled=this.readOnly||this.settings.viewOnly||this.busy,this.disabled},toggleSettings:function(){this.showSettings=!this.showSettings,this.expanded=[0],this.toggleCollapsed()},saveSettingsSuccess:function(){this.currentEvents=this.deepCopyObject(this.events),this.currentSettings=this.deepCopyObject(this.settings),this.changed=!1,this.busy=!1,this.showSettings=!1,this.getSchedule().then()},getSchedule:function(e,t){var n=this;return p(o.a.mark((function a(){var r,i,s;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,r=e||n.settings.dataSourceId,r!==n.settings.dataSourceId||t&&t!==n.settings.calendarPrefix){a.next=9;break}return a.next=5,l.a.get("".concat(n.server,"/api/point_value/getSchedule"),{params:{dataSourceId:n.settings.dataSourceId,startPrefix:n.settings.calendarPrefix+f,endPrefix:n.settings.calendarPrefix+v,valuePrefix:n.settings.calendarPrefix+g},withCredentials:!0});case 5:i=a.sent,e&&(n.currentEvents=n.currentEvents.filter((function(e){return e.master})),n.events=n.events.filter((function(e){return e.master}))),n.currentEvents=n.currentEvents.concat(n.deepCopyObject(i.data)),n.events=n.events.concat(n.deepCopyObject(i.data));case 9:if(n.globalCalendar||!n.showMaster||e&&-1!==e||t&&t!==n.settings.masterPrefix){a.next=18;break}return a.next=12,l.a.get("".concat(n.server,"/api/point_value/getSchedule"),{params:{dataSourceId:n.settings.dataSourceId,startPrefix:n.settings.masterPrefix+f,endPrefix:n.settings.masterPrefix+v,valuePrefix:n.settings.masterPrefix+g},withCredentials:!0});case 12:s=a.sent,s.data=s.data.map((function(e){return d(d({},e),{},{viewOnly:!0,master:!0})})),n.currentEvents=n.currentEvents.filter((function(e){return!e.master})),n.events=n.events.filter((function(e){return!e.master})),n.currentEvents=n.currentEvents.concat(n.deepCopyObject(s.data)),n.events=n.events.concat(n.deepCopyObject(s.data));case 18:a.next=24;break;case 20:throw a.prev=20,a.t0=a["catch"](0),n.handleError(a.t0,n.$t("calendar.schedule.error")),a.t0;case 24:case"end":return a.stop()}}),a,null,[[0,20]])})))()},apply:function(){var e=this;if(this.error="",this.showSettings){if(!this.$refs.form.validate())return void(this.error=this.$i18n.t("calendar.invalidSettings"));if(this.busy=!0,window.staticEditor){window.staticEditor.componentId=this.componentId,window.staticEditor.component={defName:"calendar"};var t=this.deepCopyObject(this.settings);delete t.calendarValues,window.staticEditor.save(JSON.stringify(t),this.saveSettingsSuccess)}else this.saveSettingsSuccess()}else{this.busy=!0;var n=this.settings.globalCalendar?-1:this.settings.dataSourceId;this.events=this.events.filter((function(e){return e.master||e.end>(new Date).setDate((new Date).getDate()-1)})),l.a.post("".concat(this.server,"/api/point_value/setSchedule"),this.events.filter((function(e){return!e.master})).map((function(e){return{start:e.start/1e3,end:e.end/1e3,value:e.value}})),{params:{dataSourceId:n,startPrefix:this.settings.calendarPrefix+f,endPrefix:this.settings.calendarPrefix+v,valuePrefix:this.settings.calendarPrefix+g},withCredentials:!0}).then((function(){e.currentEvents=e.deepCopyObject(e.events),e.changed=!1,e.busy=!1,e.refreshOtherCalenders(n)})).catch((function(t){return e.handleError(t)}))}},refreshOtherCalenders:function(e){var t=this;window.vueComponents.forEach((function(n){n._vnode.tag.includes("CalendarComponent")&&n.$children[0]._uid!=t._uid&&!n.$children[0].changed&&n.$children[0].getSchedule(e)}))},cancel:function(){this.events=this.deepCopyObject(this.currentEvents),this.settings=this.deepCopyObject(this.currentSettings),this.changed=!1,this.error=""},scrollToTime:function(){this.$refs.calendar&&this.$refs.calendar.scrollToTime(this.$refs.calendar.times.now)},getHint:function(e){var t=new Date(e.start),n=new Date(e.end),a=this.findShow(e),r="".concat(a.text,", ").concat(t.toLocaleString(window.navigator.language,{weekday:"short"})," ").concat(t.toLocaleTimeString().replace(/:00$/,"")," ")+this.$i18n.t("calendar.to")+" ".concat(n.toLocaleString(window.navigator.language,{weekday:"short"})," ").concat(n.toLocaleTimeString().replace(/:00$/,""));return r+=e.master?this.$i18n.t("calendar.from",{calendar:this.settings.masterPrefix}):"",r},updateTimes:function(){this.$refs.calendar&&!this.timeInterval&&(this.$refs.calendar.updateTimes(),this.timeInterval=setInterval(this.$refs.calendar.updateTimes,6e4))},startDrag:function(e){var t=e.event;if(this.checkEventDisabled(t))return!1;t&&(this.dragEvent=t,this.dragTime=null,this.extendOriginal=null)},startTime:function(e){if(this.checkDisabled())return!1;var t=this.toTime(e);if(this.dragEvent&&null===this.dragTime){var n=this.dragEvent.start;this.dragTime=t-n}else this.createStart=this.roundTime(t,!0),this.createEvent={value:0,start:this.createStart,end:this.createStart+36e5},this.events.push(this.createEvent)},extendBottom:function(e,t){this.createEvent=e,this.createStart=e.start,this.extendOriginal=e.end},mouseMove:function(e){var t=this.toTime(e);if(this.dragEvent&&null!==this.dragTime){var n=this.dragEvent.start,a=this.dragEvent.end,r=a-n,i=t-this.dragTime,o=this.roundTime(i,!1),s=o+r;this.dragEvent.start=o,this.dragEvent.end=s,this.dragging=!0}else if(this.createEvent&&null!==this.createStart){var l=Math.min(this.roundTime(t,!0),this.createStart),c=Math.max(this.roundTime(t,!1),this.createStart);this.createEvent.start=l,this.createEvent.end=c}},endDrag:function(){this.dragTime=null,this.dragEvent=null,this.createEvent=null,this.createStart=null,this.extendOriginal=null,this.changed=!0,this.dragging=!1},isCollapsed:function(){return 0===this.expanded.length},deleteEvent:function(e,t){this.events=this.events.filter((function(t){return t!=e})),this.changed=!0,this.menuVisible=!1},cancelDrag:function(){if(this.createEvent)if(this.extendOriginal)this.createEvent.end=this.extendOriginal;else{var e=this.events.indexOf(this.createEvent);-1!==e&&this.events.splice(e,1)}this.createEvent=null,this.createStart=null,this.dragTime=null,this.dragEvent=null,this.dragging=!1},roundTime:function(e,t){var n=60*m*1e3,a=new Date(e);if(!t&&23==a.getHours()&&a.getMinutes()>=45)return Math.floor(e+(n-e%n)-1);var r=t?e-e%n:e+(n-e%n);return r},toTime:function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute).getTime()},getTimed:function(){return!0},saturateChannel:function(e,t){var n=Math.round(e*t);return n=n>255?255:n<0?0:n,n},getRGBAColor:function(e,t,n){var a=parseInt(e,16),r=this.saturateChannel(a>>24&255,n),i=this.saturateChannel(a>>16&255,n),o=this.saturateChannel(a>>8&255,n);return"rgba(".concat(r,", ").concat(i,", ").concat(o,", ").concat(t,")")},findShow:function(e){var t=this.calendarValues.shows.find((function(t){return t.value===e.value}));return t||(t=this.calendarValues.shows.find((function(e){return e.text===b}))),t},getAlphaColor:function(e,t,n){var a=this,r=this.findShow(e);if(1===r.sequence.length)return this.getRGBAColor(this.calendarValues.colors[r.sequence[0]],t,n);var i="linear-gradient(to right,";return r.sequence.forEach((function(e){i+=a.getRGBAColor(a.calendarValues.colors[e],t,n)+","})),i.substring(0,i.length-1)+")"},getEventColor:function(e){var t=.5,n=.9;return this.createEvent&&(t+=.3),this.getAlphaColor(e,t,n)},setToday:function(){this.currentDate=""}}},w=_,y=(n("5bd2"),n("2877")),T=n("6544"),C=n.n(T),x=n("0798"),S=n("7496"),E=n("8336"),A=n("a4f62"),I=n("b0af"),F=n("ac7c"),P=n("62ad"),O=n("a523"),k=n("cd55"),D=n("49e2"),M=n("c865"),R=n("0393"),N=n("4bd4"),j=n("132d"),L=n("24c9"),V=n("8860"),U=n("da13"),B=n("1baa"),$=n("34c3"),H=n("5d23"),W=n("f6c4"),Y=n("e449"),G=n("0fd9"),X=n("b974"),K=n("e0c7"),q=n("8654"),z=n("71d9"),J=n("2a7f"),Z=n("3a2f"),Q=Object(y["a"])(w,a,r,!1,null,null,null);t["default"]=Q.exports;C()(Q,{VAlert:x["a"],VApp:S["a"],VBtn:E["a"],VCalendar:A["a"],VCard:I["a"],VCheckbox:F["a"],VCol:P["a"],VContainer:O["a"],VExpansionPanel:k["a"],VExpansionPanelContent:D["a"],VExpansionPanelHeader:M["a"],VExpansionPanels:R["a"],VForm:N["a"],VIcon:j["a"],VLabel:L["a"],VList:V["a"],VListItem:U["a"],VListItemGroup:B["a"],VListItemIcon:$["a"],VListItemTitle:H["b"],VMain:W["a"],VMenu:Y["a"],VRow:G["a"],VSelect:X["a"],VSubheader:K["a"],VTextField:q["a"],VToolbar:z["a"],VToolbarTitle:J["a"],VTooltip:Z["a"]})},"5bd2":function(e,t,n){"use strict";var a=n("192b"),r=n.n(a);r.a},"5de9":function(e,t,n){},"5e6b":function(e,t,n){},"6ce2":function(e){e.exports=JSON.parse('{"plcalarms.fault.inactive":"Störung ist gegangen","plcalarms.fault.active":"Störung kommt","plcalarms.fault.acknowledge":"Fault acknowledge","plcalarms.alarm.inactive":"Alarm ist gegangen","plcalarms.alarm.active":"Alarm ausgelöst","plcalarms.alarm.acknowledge":"Alarm acknowledge","about":"Dies ist eine Über-Seite (i18n test) locales"}')},7679:function(e,t,n){},"864c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("TEST!!!! "+e._s(e.label))])])},r=[],i={name:"test",props:["plabel"],data:function(){return{label:this.plabel}}},o=i,s=n("2877"),l=Object(s["a"])(o,a,r,!1,null,null,null);t["a"]=l.exports},8857:function(e,t,n){"use strict";var a=n("ee81"),r=n.n(a);r.a},"95e7":function(e,t,n){"use strict";var a=n("9b85"),r=n.n(a);r.a},"9b85":function(e,t,n){},"9e9a":function(e,t,n){"use strict";var a=n("59a1"),r=n.n(a);r.a},ae1b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"cmp-flex-container"},[n("div",{attrs:{id:"cmp"}},[n("div",{staticClass:"cmp-flex-container"},[n("div",{staticClass:"cmp-flex-label"},[n("div",[e._v(e._s(e.label))]),e.processOfCheckingTheStatus?n("svg",{attrs:{width:"20",height:"10"}},[n("circle",{attrs:{cx:"10",cy:"5",r:"2",fill:"red"}})]):e._e()]),n("div",{staticClass:"cmp-flex-state"},[e._v(e._s(e.insideState))]),e.disabledChange?e._e():n("btn",{staticClass:"cmp-flex-button",on:{click:function(t){e.show=!e.show}}},[n("svg",{staticStyle:{"enable-background":"new 0 0 932.179 932.179"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"17px",height:"17px",viewBox:"0 0 900 900","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M61.2,341.538c4.9,16.8,11.7,33,20.3,48.2l-24.5,30.9c-8,10.1-7.1,24.5,1.9,33.6l42.2,42.2c9.1,9.1,23.5,9.899,33.6,1.899   l30.7-24.3c15.8,9.101,32.6,16.2,50.1,21.2l4.6,39.5c1.5,12.8,12.3,22.4,25.1,22.4h59.7c12.8,0,23.6-9.601,25.1-22.4l4.4-38.1   c18.8-4.9,36.8-12.2,53.7-21.7l29.7,23.5c10.1,8,24.5,7.1,33.6-1.9l42.2-42.2c9.1-9.1,9.9-23.5,1.9-33.6l-23.1-29.3   c9.6-16.601,17.1-34.3,22.1-52.8l35.6-4.1c12.801-1.5,22.4-12.3,22.4-25.1v-59.7c0-12.8-9.6-23.6-22.4-25.1l-35.1-4.1   c-4.801-18.3-12-35.8-21.199-52.2l21.6-27.3c8-10.1,7.1-24.5-1.9-33.6l-42.1-42.1c-9.1-9.1-23.5-9.9-33.6-1.9l-26.5,21   c-17.2-10.1-35.601-17.8-54.9-23l-4-34.3c-1.5-12.8-12.3-22.4-25.1-22.4h-59.7c-12.8,0-23.6,9.6-25.1,22.4l-4,34.3   c-19.8,5.3-38.7,13.3-56.3,23.8l-27.5-21.8c-10.1-8-24.5-7.1-33.6,1.9l-42.2,42.2c-9.1,9.1-9.9,23.5-1.9,33.6l23,29.1   c-9.2,16.6-16.2,34.3-20.8,52.7l-36.8,4.2c-12.8,1.5-22.4,12.3-22.4,25.1v59.7c0,12.8,9.6,23.6,22.4,25.1L61.2,341.538z    M277.5,180.038c54.4,0,98.7,44.3,98.7,98.7s-44.3,98.7-98.7,98.7c-54.399,0-98.7-44.3-98.7-98.7S223.1,180.038,277.5,180.038z",fill:"#FFFFFF"}}),n("path",{attrs:{d:"M867.699,356.238l-31.5-26.6c-9.699-8.2-24-7.8-33.199,0.9l-17.4,16.3c-14.699-7.1-30.299-12.1-46.4-15l-4.898-24   c-2.5-12.4-14-21-26.602-20l-41.1,3.5c-12.6,1.1-22.5,11.4-22.9,24.1l-0.799,24.4c-15.801,5.7-30.701,13.5-44.301,23.3   l-20.799-13.8c-10.602-7-24.701-5-32.9,4.7l-26.6,31.7c-8.201,9.7-7.801,24,0.898,33.2l18.201,19.399   c-6.301,14.2-10.801,29.101-13.4,44.4l-26,5.3c-12.4,2.5-21,14-20,26.601l3.5,41.1c1.1,12.6,11.4,22.5,24.1,22.9l28.1,0.899   c5.102,13.4,11.801,26.101,19.9,38l-15.699,23.7c-7,10.6-5,24.7,4.699,32.9l31.5,26.6c9.701,8.2,24,7.8,33.201-0.9l20.6-19.3   c13.5,6.3,27.699,11,42.299,13.8l5.701,28.2c2.5,12.4,14,21,26.6,20l41.1-3.5c12.6-1.1,22.5-11.399,22.9-24.1l0.9-27.601   c15-5.3,29.199-12.5,42.299-21.399l22.701,15c10.6,7,24.699,5,32.9-4.7l26.6-31.5c8.199-9.7,7.799-24-0.9-33.2l-18.301-19.399   c6.701-14.2,11.602-29.2,14.4-44.601l25-5.1c12.4-2.5,21-14,20-26.601l-3.5-41.1c-1.1-12.6-11.4-22.5-24.1-22.9l-25.1-0.8   c-5.201-14.6-12.201-28.399-20.9-41.2l13.699-20.6C879.4,378.638,877.4,364.438,867.699,356.238z M712.801,593.837   c-44.4,3.801-83.602-29.3-87.301-73.699c-3.801-44.4,29.301-83.601,73.699-87.301c44.4-3.8,83.602,29.301,87.301,73.7   C790.301,550.938,757.199,590.138,712.801,593.837z",fill:"#FFFFFF"}}),n("path",{attrs:{d:"M205,704.438c-12.6,1.3-22.3,11.899-22.4,24.6l-0.3,25.3c-0.2,12.7,9.2,23.5,21.8,25.101l18.6,2.399   c3.1,11.301,7.5,22.101,13.2,32.301l-12,14.8c-8,9.899-7.4,24.1,1.5,33.2l17.7,18.1c8.9,9.1,23.1,10.1,33.2,2.3l14.899-11.5   c10.5,6.2,21.601,11.101,33.2,14.5l2,19.2c1.3,12.6,11.9,22.3,24.6,22.4l25.301,0.3c12.699,0.2,23.5-9.2,25.1-21.8l2.3-18.2   c12.601-3.101,24.601-7.8,36-14l14,11.3c9.9,8,24.101,7.4,33.201-1.5l18.1-17.7c9.1-8.899,10.1-23.1,2.301-33.2L496.6,818.438   c6.6-11,11.701-22.7,15.201-35l16.6-1.7c12.6-1.3,22.299-11.9,22.4-24.6l0.299-25.301c0.201-12.699-9.199-23.5-21.799-25.1   l-16.201-2.1c-3.1-12.2-7.699-24-13.699-35l10.1-12.4c8-9.9,7.4-24.1-1.5-33.2l-17.699-18.1c-8.9-9.101-23.102-10.101-33.201-2.3   l-12.101,9.3c-11.399-6.9-23.6-12.2-36.399-15.8l-1.601-15.7c-1.3-12.601-11.899-22.3-24.6-22.4l-25.3-0.3   c-12.7-0.2-23.5,9.2-25.101,21.8l-2,15.601c-13.199,3.399-25.899,8.6-37.699,15.399l-12.5-10.2c-9.9-8-24.101-7.399-33.201,1.5   l-18.2,17.801c-9.1,8.899-10.1,23.1-2.3,33.199l10.7,13.801c-6.2,11-11.1,22.699-14.3,35L205,704.438z M368.3,675.837   c36.3,0.4,65.399,30.301,65,66.601c-0.4,36.3-30.301,65.399-66.601,65c-36.3-0.4-65.399-30.3-65-66.601   C302.1,704.538,332,675.438,368.3,675.837z",fill:"#FFFFFF"}})])])])],1)])]),n("div",{staticClass:"cmp-flex-container-columns"},[n("collapse",{model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"cmp-well"},[n("btn-group",[n("btn",{staticClass:"close cmp_close",attrs:{"arial-label":"Close"},on:{click:e.close}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],1),n("section",[n("btn-group",e._l(e.controlsLevel0,(function(t){return n("div",{key:t.xid},[n("btn",{staticClass:"cmp-flex-container-columns",class:[{cmp_selected:e.selectActionLevel0==t.name&&!!t.runDirectlyBeforeShowSubMenu},{cmp_selected_to_confirm:e.selectActionLevel0==t.name&&!t.runDirectlyBeforeShowSubMenu}],attrs:{block:""},on:{click:function(n){return e.setActionLeve0(t.name)}}},[e._v(" "+e._s(t.name)+" "),t.runDirectlyBeforeShowSubMenu?n("span",{staticClass:"cmp-small-info"},[e._v("Don't need confirmation")]):e._e()])],1)})),0),e.controlsLevel1.length>0?n("btn-group",e._l(e.controlsLevel1,(function(t){return n("div",{key:t.xid},[n("btn",{class:{cmp_selected_to_confirm:e.selectActionLevel1==t.name},attrs:{block:""},on:{click:function(n){return e.setActionLevel1(t.name)}}},[e._v(e._s(t.name)+" ")])],1)})),0):e._e(),n("btn-group",[e.checkIfThereAreSharesToConfirmValue?n("btn",{attrs:{type:"primary"},on:{click:e.tryChangeModePLC}},[e._v("Confirm changes ")]):e._e()],1),n("hr"),n("p",{staticClass:"cmp-small-info"},[e._v("v0.0.6 ")]),n("btn",{attrs:{size:"xs",type:"primary"},on:{click:function(t){e.openModalWithHistory=!0}}},[e._v("History")]),n("modal",{attrs:{title:"History","auto-focus":""},model:{value:e.openModalWithHistory,callback:function(t){e.openModalWithHistory=t},expression:"openModalWithHistory"}},[n("HistoryCMP",{attrs:{pxIdViewAndIdCmp:e.xIdViewAndIdCmp},model:{value:e.openModalWithHistory,callback:function(t){e.openModalWithHistory=t},expression:"openModalWithHistory"}})],1)],1)],1)]),n("collapse",{model:{value:e.errorsNotification,callback:function(t){e.errorsNotification=t},expression:"errorsNotification"}},[n("div",{staticClass:"cmp-well"},[n("section",e._l(e.errors,(function(t){return n("div",{key:t.index},[n("alert",{attrs:{type:"danger"}},[n("b",[e._v(e._s(t))])])],1)})),0)])])],1)])},r=[],i=n("4079"),o=i["a"],s=(n("c3fd"),n("2877")),l=Object(s["a"])(o,a,r,!1,null,"65a5bc04",null);t["a"]=l.exports},bf88:function(e,t,n){"use strict";var a=n("0868"),r=n.n(a);r.a},c0af:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"col-md-4",staticStyle:{"background-color":"white",padding:"2em"}},[n("v-jsoneditor",{staticStyle:{height:"200px"},attrs:{options:e.options,plus:!0},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}}),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.doExport()}}},[e._v("Export")]),n("button",{staticClass:"btn btn-warning",attrs:{color:"warning",type:"button"},on:{click:function(t){return e.doImport()}}},[e._v("Import")]),n("h4",{staticClass:"progress-label"},[e._v(e._s(e.base.status)+" "),e.base.canceled?n("span",{staticClass:"badge badge-danger"},[e._v("CANCELED")]):e._e()]),n("h5",{staticClass:"progress-label"},[e._v(" "+e._s(e.base.statusGroup))]),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-striped",class:{active:e.base.progressImport.isActive},style:{width:e.base.progressImport.group.percent+"%"},attrs:{id:"group-progress",role:"progressbar"}},[e.base.canceled?n("span",[e._v("canceled")]):n("span",[e._v(e._s(e.base.progressImport.group.percent)+"%")])])]),n("h5",{staticClass:"progress-label"},[e._v(e._s(e.base.statusDetail))]),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped table-bordered"},[n("tr",[n("td",{attrs:{colspan:"2"}},[n("span",{domProps:{innerHTML:e._s(e.base.status)}})])]),n("tr",[n("td",{attrs:{colspan:"2"}},[e._v(" Import time: "+e._s(e._f("moment")(e.timer.timeImport))+" ")])]),n("tr",[n("td",{attrs:{colspan:"2"}},[e._v(" To be imported: "+e._s(e.base.counterToParse)+" ")])]),n("tr",[n("td",[e._v(" To be created: "+e._s(e.toCreate.xidFolderToCreate.length)+" ")]),n("td",[e._v(" Created: "+e._s(e.toCreate.xidFolderCreated.length)+" ")])]),n("tr",[n("td",[e._v(" Folders to be moved: "+e._s(e.toMoveFolder.xidFolderToMoveTo.length)+" ")]),n("td",[e._v(" Moved folders: "+e._s(e.toMoveFolder.xidFolderMoved.length)+" ")])]),n("tr",[n("td",[e._v(" Points to be moved: "+e._s(Object.keys(e.toMovePoints.xidPointsMoveFromTo).length)+" ")]),n("td",[e._v(" Moved points: "+e._s(e.toMovePoints.xidPointMoved.length)+" ")])]),n("tr",[n("td",[e._v(" Folder to be deleted: "+e._s(e.toDeleteFolder.xidFolderToDelete.length)+" ")]),n("td",[e._v(" Deleted: "+e._s(e.toDeleteFolder.xidFolderDeleted.length)+" ")])]),n("tr",[n("td",[e._v(" Folder names to be changed: "+e._s(e.toChangeNameFolder.xidFolderToNameChange.length)+" ")]),n("td",[e._v(" Names changed: "+e._s(e.toChangeNameFolder.xidFolderNameChanged.length)+" ")])]),n("tr",[n("td",{attrs:{colspan:"2"}},[e._v(" Errors: "+e._s(e.base.xidErrors.length)+" "),e.base.xidErrors.length>0?n("span",{staticClass:"badge badge-danger"},[e._v("Check console")]):e._e()])])])]),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{color:"danger",type:"button"},on:{click:function(t){return e.doCancel()}}},[e._v("Cancel")])],1)])},r=[],i=n("4460"),o=n.n(i),s=n("bc3a"),l=n.n(s),c=n("c1df"),d=n.n(c),u=n("783b"),h=n.n(u),p={name:"export-import-point-hierarchy",components:{VJsoneditor:o.a},filters:{moment:function(e){return d()(e).format(" mm:ss")}},data:function(){return{options:{mode:"text",modes:[]},constants:{SCHEMA:{folders:{type:"array",items:{type:"object",properties:{parentXid:{type:"string"},name:{type:"string"},xidFolder:{type:"string"},pointXids:[{type:"string"}],toDelete:{enum:["true","false"]}},required:["parentXid","name","xidFolder","pointXids"]}},required:["folders"]},ROOT:"_",STATUS:0,STATUS_INFO:{RUN:0,WARNING:1,ERROR:2,END:3},STATUS_GROUP:1,STATUS_GROUP_INFO:{PARSE:1,CHECK:2,CHECK_TO_CREATE:3,CHECK_TO_MOVE_FOLDER:4,CHECK_TO_MOVE_POINTS:5,CHECK_FOLDERS_TO_DELETE:6,CHECK_TO_CHANGE_FOLDER_NAME:7,CREATE_FOLDERS:8,MOVE_FOLDERS:9,MOVE_POINTS:10,DELETE_FOLDERS:11,CHANGE_NAME_FOLDERS:12,REFRESH_CACHE:13},STATUS_DETAIL:2,STATUS_DETAIL_INFO:{}},json:{},timer:{startImport:0,endImport:0,timeImport:0},base:{progressImport:{group:{percent:0,elementToDo:13,elementDoing:1},detail:{percent:0,elementToDo:0,elementDoing:1},isActive:!1},canceled:!1,statusGroup:"",statusDetail:"",counterToParse:0,xidFolderAfter:[],xidFolderBefore:[],xidFolderExists:[],xidErrors:[],xidFolderToCheck:[]},toCreate:{xidFolderNotExists:[],xidFolderToCreate:[],xidFolderCreated:[]},toMoveFolder:{xidFolderToMoveTo:[],xidFolderMoved:[]},toMovePoints:{xidMapPointsExist:{},xidMapPointsAfter:{},xidMapPointsInCreateFolder:{},xidPointsMoveFromTo:{},xidPointsNotMove:{},xidPointMoved:[]},toDeleteFolder:{xidFolderToDelete:[],xidFolderDeleted:[]},toChangeNameFolder:{xidFolderToNameChange:[],xidFolderNameChanged:[]}}},methods:{doExport:function(){var e=this,t="./api/pointHierarchy/export";l.a.get(t).then((function(t){e.json=t.data})).catch((function(e){console.log(e)}))},doImport:function(){this.clearData(),this.timer.startImport=performance.now(),this.parse()},doCancel:function(){this.base.canceled=!0},clearData:function(){this.timer.startImport=0,this.timer.endImport=0,this.timer.timeImport=0,this.base.statusGroup="",this.base.statusDetail="",this.base.counterToParse=0,this.base.xidFolderAfter=[],this.base.xidFolderBefore=[],this.base.xidFolderExists=[],this.base.xidErrors=[],this.base.canceled=!1,this.base.xidFolderToCheck=[],this.toCreate.xidFolderNotExists=[],this.toCreate.xidFolderToCreate=[],this.toCreate.xidFolderCreated=[],this.toMoveFolder.xidFolderToMoveTo=[],this.toMoveFolder.xidFolderMoved=[],this.toMovePoints.xidMapPointsExist={},this.toMovePoints.xidMapPointsAfter={},this.toMovePoints.xidPointsMoveFromTo={},this.toMovePoints.xidPointsNotMove={},this.toMovePoints.xidPointMoved=[],this.toDeleteFolder.xidFolderToDelete=[],this.toDeleteFolder.xidFolderDeleted=[],this.toChangeNameFolder.xidFolderToNameChange=[],this.toChangeNameFolder.xidFolderNameChanged=[]},showStatus:function(e,t,n,a,r){e==this.constants.STATUS?(this.base.status=n,t==this.constants.STATUS_INFO.WARNING||t==this.constants.STATUS_INFO.ERROR||t==this.constants.STATUS_INFO.END?(console.log("STATUS INFO:"+t),this.base.progressImport.isActive=!1,this.base.progressImport.detail.percent=0,this.base.statusDetail="",this.base.statusGroup=""):t==this.constants.STATUS_INFO.RUN&&(this.base.progressImport.isActive=!0,this.base.progressImport.detail.percent=0)):e==this.constants.STATUS_GROUP?(this.base.statusGroup=n,this.calculateProgressGroup(t),this.base.progressImport.detail.percent=0):e==this.constants.STATUS_DETAIL&&(this.calculateProgressDetail(a,r),this.base.statusDetail=n),this.timer.stopImport=performance.now(),this.timer.timeImport=this.timer.stopImport-this.timer.startImport},parse:function(){this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.RUN,"Start"),this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.PARSE,"Validate");var e=new h.a,t=e.compile(this.constants.SCHEMA),n=t(this.json);if(n)try{var a=this.json.folders;this.base.xidFolderAfter=a.slice(),this.base.counterToParse=this.base.xidFolderAfter.length,void 0==a?this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.WARNING,"Folders information required"):(this.base.xidFolderToCheck=a,this.check())}catch(r){this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.ERROR,"Incorrect date format:"+r)}else console.log(t.errors),this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.ERROR,t.errors)},check:function(){var e=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK,"Check folders"),0==this.base.xidFolderToCheck.length)this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.WARNING,"Nothing to import");else{this.showStatus(this.constants.STATUS_DETAIL,0,"Check folder:"+this.base.xidFolderToCheck[0].xidFolder,this.base.xidFolderExists.length+this.toCreate.xidFolderNotExists.length,this.base.xidFolderToCheck.length+this.base.xidFolderExists.length+this.toCreate.xidFolderNotExists.length);var t="./api/pointHierarchy/folderCheckExist/".concat(this.base.xidFolderToCheck[0].xidFolder);l.a.get(t).then((function(t){void 0!==t.data?(console.log("FOLDER exist:"+e.base.xidFolderToCheck[0]),e.base.xidFolderExists.push(e.base.xidFolderToCheck[0]),e.base.xidFolderBefore.push(t.data)):void 0!=e.base.xidFolderToCheck[0]&&0==t.data&&(console.log("FOLDER not exist:"+e.base.xidFolderToCheck[0]),e.toCreate.xidFolderNotExists.push(e.base.xidFolderToCheck[0])),e.base.xidFolderToCheck.splice(0,1),e.base.xidFolderToCheck.length>0?e.check():e.validToCreate()})).catch((function(t){console.log("FOLDER not exist:"+e.base.xidFolderToCheck[0]),console.log(t),e.toCreate.xidFolderNotExists.push(e.base.xidFolderToCheck[0]),e.base.xidFolderToCheck.splice(0,1),e.base.xidFolderToCheck.length>0?e.check():e.validToCreate()}))}},validToCreate:function(){if(!this.canceled()){if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_CREATE,"Check folders to be created"),this.toCreate.xidFolderNotExists.length>0)for(var e in this.toCreate.xidFolderNotExists)if(null!=this.toCreate.xidFolderNotExists[e]){this.showStatus(this.constants.STATUS_DETAIL,0,"Validation folder to be created:"+this.toCreate.xidFolderNotExists[e].xidFolder,this.toCreate.xidFolderToCreate.length,this.toCreate.xidFolderNotExists.length);var t=void 0==this.toCreate.xidFolderNotExists[e].xidFolder||void 0==this.toCreate.xidFolderNotExists[e].name||1==this.toCreate.xidFolderNotExists[e].toDelete||"true"==this.toCreate.xidFolderNotExists[e].toDelete;t?this.base.xidErrors.push(this.toCreate.xidFolderNotExists[e]):this.toCreate.xidFolderToCreate.push(this.toCreate.xidFolderNotExists[e])}this.prepareDataToMoveFolders()}},prepareDataToMoveFolders:function(){if(!this.canceled()){for(var e in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_MOVE_FOLDER,"Check to-be-moved folders"),this.base.xidFolderExists)for(var t in this.base.xidFolderBefore)if(this.base.xidFolderExists[e].xidFolder==this.base.xidFolderBefore[t].xid&&(this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.base.xidFolderExists[e].xidFolder,e+t,this.base.xidFolderExists.length+this.base.xidFolderBefore.length),this.base.xidFolderExists[e].parentXid!==this.base.xidFolderBefore[t].parentXid)){var n={};n.newParentXid=this.base.xidFolderExists[e].parentXid,n.xidFolder=this.base.xidFolderExists[e].xidFolder,this.toMoveFolder.xidFolderToMoveTo.push(n)}this.prepareDataToMovePoints()}},prepareDataToMovePoints:function(){if(!this.canceled()){for(var e in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_MOVE_POINTS,"Check points to be moved"),this.toCreate.xidFolderToCreate)for(var t in this.toCreate.xidFolderToCreate[e].pointXids)this.toMovePoints.xidMapPointsInCreateFolder[this.toCreate.xidFolderToCreate[e].pointXids[t]]={xidPoint:this.toCreate.xidFolderToCreate[e].pointXids[t],xidFolder:this.toCreate.xidFolderToCreate[e].xidFolder};for(var n in this.base.xidFolderBefore)for(var a in this.base.xidFolderBefore[n].pointXids)this.toMovePoints.xidMapPointsExist[this.base.xidFolderBefore[n].pointXids[a]]={xidPoint:this.base.xidFolderBefore[n].pointXids[a],xidFolder:this.base.xidFolderBefore[n].xid};for(var r in this.base.xidFolderAfter)for(var i in this.base.xidFolderAfter[r].pointXids)this.toMovePoints.xidMapPointsAfter[this.base.xidFolderAfter[r].pointXids[i]]={xidPoint:this.base.xidFolderAfter[r].pointXids[i],xidFolder:this.base.xidFolderAfter[r].xidFolder,delete:this.base.xidFolderAfter[r].delete};for(var o in this.toMovePoints.xidMapPointsAfter){var s=this.toMovePoints.xidMapPointsAfter[o],l=this.toMovePoints.xidMapPointsExist[o],c=this.toMovePoints.xidMapPointsInCreateFolder[o];if(void 0==c&&void 0==l){var d={xidPoint:s.xidPoint,oldParent:"?",newParent:s.xidFolder};this.toMovePoints.xidPointsMoveFromTo[s.xidPoint]=d}}for(var o in this.toMovePoints.xidMapPointsExist){var u=this.toMovePoints.xidMapPointsAfter[o],h=this.toMovePoints.xidMapPointsExist[o],p=this.toMovePoints.xidMapPointsInCreateFolder[o];if(void 0==p)if(void 0==u){var m={xidPoint:h.xidPoint,oldParent:"?",newParent:this.constants.ROOT};this.toMovePoints.xidPointsMoveFromTo[h.xidPoint]=m}else if(u.xidFolder!==h.xidFolder){var f={xidPoint:h.xidPoint,oldParent:h.xidFolder,newParent:u.xidFolder};this.toMovePoints.xidPointsMoveFromTo[h.xidPoint]=f}else u.xidFolder==h.xidFolder&&this.toMovePoints.xidPointsNotMove[h.xidPoint]}this.prepareDataToDeleteFolders()}},prepareDataToDeleteFolders:function(){if(!this.canceled()){for(var e in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_FOLDERS_TO_DELETE,"Check folders to be deleted"),this.base.xidFolderAfter)if(void 0!=this.base.xidFolderAfter[e].toDelete&&"true"==this.base.xidFolderAfter[e].toDelete){var t=this.base.xidFolderAfter[e],n=!1;for(var a in this.base.xidErrors)if(n=!(this.base.xidErrors[a].xidFolder==t),n)break;n||this.toDeleteFolder.xidFolderToDelete.push(t)}this.prepareFolderToNameChange()}},prepareFolderToNameChange:function(){if(!this.canceled()){for(var e in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_CHANGE_FOLDER_NAME,"Check folders to be updated"),this.base.xidFolderAfter)for(var t in this.base.xidFolderBefore)this.base.xidFolderAfter[e].xidFolder==this.base.xidFolderBefore[t].xid&&this.base.xidFolderAfter[e].name!=this.base.xidFolderBefore[t].name&&this.toChangeNameFolder.xidFolderToNameChange.push(this.base.xidFolderAfter[e]);this.createFolders()}},createFolders:function(){var e=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CREATE_FOLDERS,"Create folders"),this.toCreate.xidFolderToCreate.length>0){var t={};t.name=this.toCreate.xidFolderToCreate[0].name,t.xid=this.toCreate.xidFolderToCreate[0].xidFolder,t.parentXid=this.toCreate.xidFolderToCreate[0].parentXid,t.pointXids=this.toCreate.xidFolderToCreate[0].pointXids,this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toCreate.xidFolderToCreate[0].xidFolder,this.toCreate.xidFolderCreated.length,this.toCreate.xidFolderToCreate.length+this.toCreate.xidFolderCreated.length);var n="./api/pointHierarchy/folderAdd/";l.a.post(n,t).then((function(t){var n=e.toCreate.xidFolderToCreate[0];e.toCreate.xidFolderCreated.push(n),e.toCreate.xidFolderToCreate.splice(0,1),e.toCreate.xidFolderToCreate.length>0?e.createFolders():e.moveFolders()})).catch((function(t){console.log(t),e.toCreate.xidFolderToCreate.splice(0,1),e.toCreate.xidFolderToCreate.length>0?e.createFolders():e.moveFolders()}))}else this.moveFolders()},moveFolders:function(){var e=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.MOVE_FOLDERS,"Move folders"),this.toMoveFolder.xidFolderToMoveTo.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toMoveFolder.xidFolderToMoveTo[0].xidFolder,this.toMoveFolder.xidFolderMoved.length,this.toMoveFolder.xidFolderToMoveTo.length+this.toMoveFolder.xidFolderMoved.length);var t="./api/pointHierarchy/folderMoveTo/".concat(this.toMoveFolder.xidFolderToMoveTo[0].xidFolder,"/").concat(this.toMoveFolder.xidFolderToMoveTo[0].newParentXid);l.a.put(t).then((function(t){console.log(t);var n=e.toMoveFolder.xidFolderToMoveTo[0];e.toMoveFolder.xidFolderMoved.push(n),e.toMoveFolder.xidFolderToMoveTo.splice(0,1),e.toMoveFolder.xidFolderToMoveTo.length>0?e.moveFolders():e.movePoints()})).catch((function(t){console.log(t),e.toMoveFolder.xidFolderToMoveTo.splice(0,1),e.toMoveFolder.xidFolderToMoveTo.length>0?e.moveFolders():e.movePoints()}))}else this.movePoints()},movePoints:function(){var e=this;if(!this.canceled()){this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.MOVE_POINTS,"Move points");var t=Object.keys(this.toMovePoints.xidPointsMoveFromTo).map((function(t){return e.toMovePoints.xidPointsMoveFromTo[t]}));if(t.length>0){var n=this.constants.ROOT;""==!t[0].newParent.trim()&&(n=t[0].newParent),this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+t[0].xidPoint,this.toMovePoints.xidPointMoved.length,this.toMovePoints.xidPointsMoveFromTo.length+this.toMovePoints.xidPointMoved.length);var a="./api/pointHierarchy/pointMoveTo/".concat(t[0].xidPoint,"/").concat(n);l.a.put(a).then((function(n){console.log(n);var a=t[0];e.toMovePoints.xidPointMoved.push(a),delete e.toMovePoints.xidPointsMoveFromTo[t[0].xidPoint],t.splice(0,1),t.length>0?e.movePoints():e.deleteFolders()})).catch((function(n){console.log(n),delete e.toMovePoints.xidPointsMoveFromTo[t[0].xidPoint],t.splice(0,1),t.length>0?e.movePoints():e.deleteFolders()}))}else this.deleteFolders()}},deleteFolders:function(){var e=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.DELETE_FOLDERS,"Delete folders"),this.toDeleteFolder.xidFolderToDelete.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toDeleteFolder.xidFolderToDelete[0].xidFolder,this.toDeleteFolder.xidFolderDeleted.length,this.toDeleteFolder.xidFolderToDelete.length+this.toDeleteFolder.xidFolderDeleted.length);var t="./api/pointHierarchy/deleteFolder/".concat(this.toDeleteFolder.xidFolderToDelete[0].xidFolder);l.a.post(t).then((function(t){var n=e.toDeleteFolder.xidFolderToDelete[0];e.toDeleteFolder.xidFolderDeleted.push(n),e.toDeleteFolder.xidFolderToDelete.splice(0,1),e.toDeleteFolder.xidFolderToDelete.length>0?e.deleteFolders():e.changeNameFolders()})).catch((function(t){console.log(t),e.toDeleteFolder.xidFolderToDelete.splice(0,1),e.toDeleteFolder.xidFolderToDelete.length>0?e.deleteFolders():e.changeNameFolders()}))}else this.changeNameFolders()},changeNameFolders:function(){var e=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHANGE_NAME_FOLDERS,"Change folders' names"),this.toChangeNameFolder.xidFolderToNameChange.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toChangeNameFolder.xidFolderToNameChange[0].xidFolder,this.toChangeNameFolder.xidFolderNameChanged.length,this.toChangeNameFolder.xidFolderToNameChange.length+this.toChangeNameFolder.xidFolderNameChanged.length);var t="./api/pointHierarchy/changeName/".concat(this.toChangeNameFolder.xidFolderToNameChange[0].xidFolder,"/").concat(this.toChangeNameFolder.xidFolderToNameChange[0].name);l.a.put(t).then((function(t){var n=e.toChangeNameFolder.xidFolderToNameChange[0];e.toChangeNameFolder.xidFolderNameChanged.push(n),e.toChangeNameFolder.xidFolderToNameChange.splice(0,1),e.toChangeNameFolder.xidFolderToNameChange.length>0?e.changeNameFolders():e.createFolderAndMovePoints()})).catch((function(t){console.log(t),e.toChangeNameFolder.xidFolderToNameChange.splice(0,1),e.toChangeNameFolder.xidFolderToNameChange.length>0?e.changeNameFolders():e.refreshCache()}))}else this.refreshCache()},refreshCache:function(){var e=this;this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.REFRESH_CACHE,"Refresh cache");var t="./api/pointHierarchy/cacheRefresh/";l.a.post(t).then((function(t){e.timer.stopImport=performance.now(),e.timer.timeImport=e.timer.stopImport-e.timer.startImport,reload()})).catch((function(t){console.log(t),e.showStatus(e.constants.STATUS,e.constants.STATUS_INFO.ERROR,"End import"),reload()})),this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.END,"End import")},calculateProgressGroup:function(e){this.base.progressImport.group.elementDoing=e,this.base.progressImport.group.percent=(this.base.progressImport.group.elementDoing/this.base.progressImport.group.elementToDo*100).toFixed(0)},calculateProgressDetail:function(e,t){this.base.progressImport.detail.elementDoing=e,this.base.progressImport.detail.elementToDo=t,(void 0==e||void 0==t||0==t)&&(this.base.progressImport.detail.percent=100),this.base.progressImport.detail.percent=0==e?0:(this.base.progressImport.detail.elementDoing/this.base.progressImport.detail.elementToDo*100).toFixed(0),isNaN(this.base.progressImport.detail.percent)&&(this.base.progressImport.detail.percent=100)},canceled:function(){return this.base.canceled&&this.refreshCache(),this.base.canceled}}},m=p,f=n("2877"),v=Object(f["a"])(m,a,r,!1,null,null,null);t["a"]=v.exports},c3fd:function(e,t,n){"use strict";var a=n("23d8"),r=n.n(a);r.a},d08a:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.danger?n("alert",{attrs:{id:"p_is_alive_bdanger",type:"danger"}},[n("b",[e._v("Error")]),e._v(" - time of the latest server response: "+e._s(e._f("moment")(e.timeFromServerEpoch))+" ")]):e._e(),e.warning?n("alert",{attrs:{id:"p_is_alive_bwarning",type:"warning"}},[n("b",[e._v("Warning")]),e._v(" - time of the latest server response: "+e._s(e._f("moment")(e.timeFromServerEpoch))+" ")]):e._e(),e.success?n("alert",{attrs:{id:"p_is_alive",type:"success"}},[e._v(e._s(e.label))]):e._e(),n("popover",{attrs:{title:"Is Alive",target:"#p_is_alive",trigger:"hover"}},[n("template",{slot:"popover"},[n("p",{staticClass:"p_is_now"},[e._v("Time from web browser: "),n("b",[e._v(e._s(e._f("moment")(e.timeInWebEpoch)))])]),n("p",{staticClass:"p_is_last_time_modyfication"},[e._v("Time of the latest server response: "),n("b",[e._v(e._s(e._f("moment")(e.timeFromServerEpoch)))])]),n("p",[e._v("Refresh time: "+e._s(e.timeRefresh)+" [ms]")]),n("p",[e._v("Time before warning: "+e._s(e.timeWarningEpoch)+" [ms]")]),n("p",[e._v("Time before error: "+e._s(e.timeErrorEpoch)+" [ms]")])])],2)],1)},r=[],i=n("c1df"),o=n.n(i),s=2e3,l=1e3,c=1,d={name:"is-alive",props:["plabel","ptimeWarning","ptimeError","ptimeRefresh"],data:function(){return{label:"",timeInWebEpoch:-1,timeFromServerEpoch:-1,timeRefresh:s,timeWarningEpoch:-1,timeErrorEpoch:-1,danger:!1,warning:!1,success:!0}},methods:{setData:function(){this.timeInWebEpoch=this.$store.getters.timeInWebIsAlive,this.timeFromServerEpoch=this.$store.getters.timeFromServerIsAlive,this.danger=this.$store.getters.dangerIsAlive,this.warning=this.$store.getters.warningIsAlive,this.success=this.$store.getters.successIsAlive},check:function(){var e=this;this.$store.dispatch("isAlive").then((function(){e.setData()})).catch((function(){e.setData()}))}},created:function(){this.label=this.plabel,this.ptimeUpdate<l?this.timeRefresh=s:this.timeRefresh=this.ptimeRefresh,this.timeWarningEpoch=this.ptimeWarning,this.timeErrorEpoch=this.ptimeError,void 0==this.timeRefresh&&(this.timeRefresh=DEFAULT_UPDATE_IS_ALIVE),this.$store.dispatch("setInitIsAlive",{tw:this.timeWarningEpoch,te:this.timeErrorEpoch,tr:this.timeRefresh})},mounted:function(){setInterval(function(){this.check()}.bind(this),this.timeRefresh)},filters:{moment:function(e){if(e>c){var t=new Date(1e3*e);return o()(t).format(" hh:mm:ss")}return"waiting for data"}}},u=d,h=n("2877"),p=Object(h["a"])(u,a,r,!1,null,null,null);t["a"]=p.exports},d2c6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.label))]),n("div",{ref:"chartdiv",staticClass:"hello",style:{height:this.height+"px",width:this.width+"px"}}),e.errorMessage?n("div",[n("p",{staticClass:"error"},[e._v(e._s(e.errorMessage))])]):e._e(),e.showReload?n("div",[n("button",{on:{click:function(t){return e.reload()}}},[e._v("Reload")])]):e._e()])},r=[],i=n("71c9"),o=(n("c497"),n("5a54")),s=(n("bc3a"),n("2bf5"));function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){return h(e)||u(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){r=!0,i=l}finally{try{a||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function h(e){if(Array.isArray(e))return e}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function _(e,t,n){return _="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=w(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}},_(e,t,n||e)}function w(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=A(e),null===e)break;return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function C(e){var t=E();return function(){var n,a=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}i["f"](o["a"]);var I=function(e){y(n,e);var t=C(n);function n(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return v(this,n),t.call(this,e,"XYChart",a,r)}return b(n,[{key:"displayControls",value:function(e,t,n){void 0!==e&&"true"==e?this.showScrollbarX=!0:void 0!==e&&"false"==e&&(this.showScrollbarX=!1),void 0!==t&&"true"==t?this.showScrollbarY=!0:void 0!==t&&"false"==t&&(this.showScrollbarY=!1),void 0!==n&&"true"==n?this.showLegend=!0:void 0!==n&&"false"==n&&(this.showLegend=!1)}},{key:"loadData",value:function(e,t,a,r){var i=this;return new Promise((function(o,s){_(A(n.prototype),"loadData",i).call(i,e,t,a,r).then((function(t){if(void 0==i.pointCurrentValue.get(e)&&i.pointCurrentValue.set(e,{name:t.name,suffix:t.textRenderer.suffix,type:t.type,labels:new Map}),"Multistate"===t.type){var n=t.textRenderer.multistateValues;if("textRendererMultistate"===t.textRenderer.typeName&&void 0!==n){for(var a=new Map,r=0;r<n.length;r++)a.set(String(n[r].key),n[r].text);i.pointCurrentValue.get(e).labels=a}}if("Binary"===t.type&&"textRendererBinary"===t.textRenderer.typeName){var s=new Map;s.set("0",t.textRenderer.zeroLabel),s.set("1",t.textRenderer.oneLabel),i.pointCurrentValue.get(e).labels=s}t.values.forEach((function(e){i.addValue(e,t.name,i.pointPastValues)})),o("done")}))}))}},{key:"setupChart",value:function(){this.chart.data=s["a"].prepareChartData(s["a"].sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(this.showScrollbarX,this.showScrollbarY,this.showLegend),this.createExportMenu(!0,"Scada_LineChart");var e,t=p(this.pointCurrentValue);try{for(t.s();!(e=t.n()).done;){var n=c(e.value,2),a=(n[0],n[1]),r=this.createSeries(a.name,a.name,a.suffix);if("Multistate"===a.type){var i=this.createAxisY(a.labels);r.yAxis=i,i.renderer.line.stroke=r.stroke,i.title.text=a.name}if("Binary"===a.type&&a.labels.size>0){var o=this.createAxisY(a.labels);r.yAxis=o,o.renderer.line.stroke=r.stroke,o.title.text=a.name}}}catch(l){t.e(l)}finally{t.f()}}},{key:"createSeries",value:function(e,t,a){return _(A(n.prototype),"createSeries",this).call(this,"Line","date",e,t,a)}}]),n}(s["a"]),F={name:"LineChartComponent",props:["pointId","pointXid","color","label","startDate","endDate","refreshRate","width","height","polylineStep","rangeValue","rangeColor","rangeLabel","showScrollbarX","showScrollbarY","showLegend","showReload"],data:function(){return{errorMessage:void 0,chartClass:void 0,isExportId:!1}},mounted:function(){this.generateChart()},methods:{generateChart:function(){var e=this;Number(this.polylineStep)>1&&I.setPolylineStep(Number(this.polylineStep)),this.chartClass=new I(this.$refs.chartdiv,this.color),this.chartClass.displayControls(this.showScrollbarX,this.showScrollbarY,this.showLegend),void 0===this.pointXid||null===this.pointXid||null!==this.pointId&&void 0!==this.pointId||(this.isExportId=!0);var t,n=[];t=this.isExportId?this.pointXid.split(","):this.pointId.split(",");for(var a=0;a<t.length;a++)n.push(this.chartClass.loadData(t[a],this.startDate,this.endDate,this.isExportId));Promise.all(n).then((function(t){for(var n=0;n<t.length;n++)"done"!==t[n]&&(e.errorMessage="Point given with index ["+n+"] has not been loaded!");e.chartClass.showChart(),void 0!==e.rangeValue&&e.chartClass.addRangeValue(Number(e.rangeValue),e.rangeColor,e.rangeLabel),void 0!=e.refreshRate&&e.chartClass.startLiveUpdate(Number(e.refreshRate),e.isExportId)}))},reload:function(){this.generateChart()}}},P=F,O=(n("2e78"),n("2877")),k=Object(O["a"])(P,a,r,!1,null,"7f887179",null);t["a"]=k.exports},d324:function(e){e.exports=JSON.parse('{"shows":[{"value":1,"text":"Red","color":1,"sequence":[1]},{"value":2,"text":"Green","color":2,"sequence":[2]},{"value":3,"text":"Blue","color":3,"sequence":[3]},{"value":4,"text":"White","color":0,"sequence":[0]},{"value":5,"text":"Cyan","color":4,"sequence":[4]},{"value":6,"text":"Magenta","color":5,"sequence":[5]},{"value":7,"text":"Yellow","color":6,"sequence":[6]},{"value":8,"text":"Amber","color":7,"sequence":[7]},{"value":9,"text":"Pink","color":8,"sequence":[8]},{"value":10,"text":"Purple/White (Dockers)","color":9,"sequence":[9,0]},{"value":11,"text":"Blue/Yellow (Eagles)","color":3,"sequence":[3,6]},{"value":12,"text":"Green/Yellow (Australia Day)","color":2,"sequence":[2,6]},{"value":13,"text":"Red, White and Blue","color":1,"sequence":[2,0,3]},{"value":14,"text":"DEFAULT","color":0,"sequence":[0]},{"value":17,"text":"Shamrock Green (St. Patrick`s Day)","color":10,"sequence":[10]},{"value":18,"text":"Easter Pastels","color":14,"sequence":[14,12,15,13,11]},{"value":19,"text":"ANZAC Day","color":17,"sequence":[17,16]},{"value":20,"text":"Red Cross Day","color":18,"sequence":[18]},{"value":21,"text":"NAIDOC Week","color":19,"sequence":[6,19,20]},{"value":22,"text":"Blue/White","color":3,"sequence":[3,0]},{"value":23,"text":"Green/White/Red","color":2,"sequence":[2,0,1]},{"value":24,"text":"Red/Blue (Fire Show)","color":1,"sequence":[1,3]},{"value":25,"text":"Pink/Teal","color":23,"sequence":[8,23]},{"value":26,"text":"Red/Green Christmas","color":1,"sequence":[1,2]},{"value":27,"text":"Rainbow","color":21,"sequence":[21,22,3,4,2,6,1]}],"colors":["FFFFFFFF","FF0000FF","00FF00FF","0000FFFF","00FFFFFF","FF00FFFF","FFFF00FF","FFBF00FF","FF96A7FF","800080FF","009E60FF","F9CEEEFF","E0CDFFFF","C1F0FBFF","DCF9A8FF","FFEBAFFF","00843DFF","FFCD00FF","ED1B2EFF","CC0000FF","11111111","7F00FFFF","3F00FFFF","008080FF"]}')},db83:function(e,t,n){"use strict";var a=n("508a"),r=n.n(a);r.a},e815:function(e,t,n){"use strict";var a=n("7679"),r=n.n(a);r.a},e8e1:function(e,t,n){"use strict";var a=n("5e6b"),r=n.n(a);r.a},edd4:function(e){e.exports=JSON.parse('{"plcalarms.fault.inactive":"Fault has gone","plcalarms.fault.active":"Fault comes","plcalarms.fault.acknowledge":"Fault acknowledge","plcalarms.alarm.inactive":"Alarm is gone","plcalarms.alarm.active":"Alarm triggered","plcalarms.alarm.acknowledge":"Alarm acknowledge","about":"This is an about page (i18n test) locales","calendar.apply":"apply","calendar.cancel":"cancel","calendar.today":"today","calendar.day":"Day","calendar.week":"Week","calendar.month":"Month","calendar.4days":"4 Days","calendar.remove":"Remove","calendar.prefix":"This prefix is used to find all data points starting with the prefix name followed by -start-|-end-|-value- and a schedule number eg {schedule}-start-0.","calendar.error":"An error has occurred while connecting to the server {server}.{status}","calendar.schedule.error":"Failed to get the calendar, this might be caused by incorrect prefix settings or data-source that does not have a calendar.","calendar.calendarPrefix":"Calendar prefix name","calendar.viewOnly":"View only","calendar.showMaster":"Show master calendar","calendar.masterPrefix":"Master calendar prefix","calendar.collapsed":"Collapse calendar on load","calendar.datasource":"Data-source","calendar.globalCalendar":"Global calendar, write to all data-sources","calendar.datasourceRequired":"Data-source is required","calendar.showCalendarTypes":"Show the calendar type dropdown","calendar.name":"Name","calendar.shows":"SHOWS","calendar.type":"Default calendar mode","calendar.from":" from {calendar} calendar","calendar.to":"to","calendar.invalidSettings":"Please check your settings, some are invalid."}')},ee81:function(e,t,n){},f1e7:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container move-top format_font"},[n("div",{staticClass:"panel panel-default col-ld-4, col-md-4, col-sm-6"},[n("div",{staticClass:"panel-body"},[n("div",[n("btn-group",{staticStyle:{display:"inline"},attrs:{"aria-describedby":"sleepHelp"}},[n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_STOP},model:{value:e.reactivation,callback:function(t){e.reactivation=t},expression:"reactivation"}},[e._v("Stop")]),n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_SLEEP},model:{value:e.reactivation,callback:function(t){e.reactivation=t},expression:"reactivation"}},[e._v("Sleep")]),n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_NONE},model:{value:e.reactivation,callback:function(t){e.reactivation=t},expression:"reactivation"}},[e._v("None")])],1),n("small",{staticClass:"form-text text-muted",staticStyle:{margin:"10px"},attrs:{id:"sleepHelp"}},[e._v("It will disable the datasource when the attempted connections fail and try reconnect according to the reactivity configuration")])],1),"sleep"==e.reactivation?n("div",{staticStyle:{padding:"0px",margin:"30px"}},[n("table",[n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.reactivationTimeValue,expression:"reactivationTimeValue"}],staticClass:"form-control number-width",staticStyle:{display:"inline"},attrs:{type:"number",min:"1",max:"31"},domProps:{value:e.reactivationTimeValue},on:{input:function(t){t.target.composing||(e.reactivationTimeValue=t.target.value)}}})]),n("td",[n("btn-group",{staticStyle:{display:"inline"}},[n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_TIME_MIN},model:{value:e.reactivationTimeType,callback:function(t){e.reactivationTimeType=t},expression:"reactivationTimeType"}},[e._v("Minute")]),n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_TIME_HOUR},model:{value:e.reactivationTimeType,callback:function(t){e.reactivationTimeType=t},expression:"reactivationTimeType"}},[e._v("Hour")]),n("btn",{attrs:{"input-type":"radio","input-value":e.STR_REACTIVATION_TYPE_TIME_DAY},model:{value:e.reactivationTimeType,callback:function(t){e.reactivationTimeType=t},expression:"reactivationTimeType"}},[e._v("Day")])],1)],1)]),n("tr",[n("td"),n("td",[n("div",[e.runingReactivation?e._e():n("btn",{attrs:{size:"xs",type:"success"},on:{click:function(t){return e.startReactivation()}}},[e._v("Start reactivation")]),e.runingReactivation?n("btn",{attrs:{size:"xs",type:"danger"},on:{click:function(t){return e.stopReactivation()}}},[e._v("Stop reactivation")]):e._e()],1)])])]),n("div",[n("p",[e._v("time to next attempt to enable data source: "+e._s(e._f("infoTime")(e.timeToNextTryEnableDs)))])])]):e._e()])])])},r=[],i=n("bc3a"),o=n.n(i),s={data:function(){return{STR_REACTIVATION_TYPE_TIME_MIN:"min",STR_REACTIVATION_TYPE_TIME_HOUR:"hour",STR_REACTIVATION_TYPE_TIME_DAY:"day",INT_REACTIVATION_TYPE_TIME_MIN:0,INT_REACTIVATION_TYPE_TIME_HOUR:1,INT_REACTIVATION_TYPE_TIME_DAY:2,INT_REACTIVATION_NO_TIME:-1,STR_REACTIVATION_TYPE_NONE:"none",STR_REACTIVATION_TYPE_SLEEP:"sleep",STR_REACTIVATION_TYPE_STOP:"stop",TIME_REFRESH:1e3,STR_REACTIVATION_RESPONSE_STARTED:"started",STR_REACTIVATION_RESPONSE_STOPED:"stoped",STR_REACTIVATION_RESPONSE_NO_CHANGE:"nothing_changed",reactivation:this.defaultReactivation(),reactivationTimeType:this.defaultTimeType(),reactivationTimeValue:this.defaultTimeValue(),idDs:0,sleep:!1,runingReactivation:!1,timeToNextTryEnableDs:0}},methods:{defaultReactivation:function(){return this.STR_REACTIVATION_TYPE_NONE},defaultTimeType:function(){return this.STR_REACTIVATION_TYPE_TIME_MIN},defaultTimeValue:function(){return 1},checkWhenNextTryEnableDs:function(){var e=this,t="./api/check-time-reactivation/".concat(this.idDs);o.a.get(t).then((function(t){t.data==e.INT_REACTIVATION_NO_TIME?(e.runingReactivation=!1,e.timeToNextTryEnableDs=0):(e.timeToNextTryEnableDs=t.data,e.runingReactivation=!0)})).catch((function(t){e.runingReactivation=!1,console.log(t)}))},startReactivation:function(){var e=this,t="./api/enable-reactivation/".concat(this.idDs);o.a.post(t).then((function(t){t.data!=e.STR_REACTIVATION_RESPONSE_STARTED&&t.data!=e.STR_REACTIVATION_RESPONSE_NO_CHANGE||(e.runingReactivation=!0)})).catch((function(e){console.log(e)}))},stopReactivation:function(){var e=this,t="./api/disable-reactivation/".concat(this.idDs);o.a.post(t).then((function(t){t.data!=e.STR_REACTIVATION_RESPONSE_STOPED&&t.data!=e.STR_REACTIVATION_RESPONSE_NO_CHANGE||(e.runingReactivation=!1,e.timeToNextTryEnableDs=0)})).catch((function(e){console.log(e)}))}},created:function(){void 0!==editDSNewUI&&(editDSNewUI.reactivation.sleep?this.reactivation=this.STR_REACTIVATION_TYPE_SLEEP:editDSNewUI.stop?this.reactivation=this.STR_REACTIVATION_TYPE_STOP:this.reactivation=this.STR_REACTIVATION_TYPE_NONE,editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_MIN?this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_MIN:editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_HOUR?this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_HOUR:editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_DAY&&(this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_DAY),this.reactivationTimeValue=editDSNewUI.reactivation.value,this.idDs=editDSNewUI.id,setInterval(function(){this.checkWhenNextTryEnableDs()}.bind(this),this.TIME_REFRESH))},watch:{reactivation:function(){void 0!==editDSNewUI&&(this.reactivation==this.STR_REACTIVATION_TYPE_SLEEP?(editDSNewUI.stop=!1,editDSNewUI.reactivation.sleep=!0):this.reactivation==this.STR_REACTIVATION_TYPE_STOP?(editDSNewUI.stop=!0,editDSNewUI.reactivation.sleep=!1):(editDSNewUI.stop=!1,editDSNewUI.reactivation.sleep=!1))},reactivationTimeType:function(){void 0!==editDSNewUI&&(this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_MIN?editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_MIN:this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_HOUR?editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_HOUR:this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_DAY&&(editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_DAY))},reactivationTimeValue:function(){void 0!==editDSNewUI&&(editDSNewUI.reactivation.value=this.reactivationTimeValue)}},filters:{infoTime:function(e){var t=parseInt(e/1e3),n=Math.floor(t/86400);t-=3600*n*24;var a=Math.floor(t/3600);t-=3600*a;var r=Math.floor(t/60);return t-=60*r,n+" days, "+a+" Hrs, "+r+" Minutes, "+t+" Seconds"}}},l=s,c=(n("586d"),n("2877")),d=Object(c["a"])(l,a,r,!1,null,"aa0e39f0",null);t["a"]=d.exports},f82d:function(e,t,n){"use strict";var a=n("491e"),r=n.n(a);r.a}});
//# sourceMappingURL=app.js.map